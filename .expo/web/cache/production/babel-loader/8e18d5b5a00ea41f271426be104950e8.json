{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import FlatList from\"react-native-web/dist/exports/FlatList\";import View from\"react-native-web/dist/exports/View\";import{connect}from'react-redux';import{Loading}from\"../../components/Loading/loading\";import MowListItem from\"../../components/ui/Common/ListItem/MowListItem\";import MowContainer from\"../../components/ui/Core/Container/MowContainer\";import{DepartmentController}from\"../../controller/department.controller\";import{setDepartment}from\"../../store/actions/categoryActions\";import{pageContainerStyle}from\"../../values/Styles/MowStyles\";var DepartmentsScreen=function(_React$Component){_inherits(DepartmentsScreen,_React$Component);var _super=_createSuper(DepartmentsScreen);function DepartmentsScreen(props){var _this;_classCallCheck(this,DepartmentsScreen);_this=_super.call(this,props);_this.departmentController=new DepartmentController();_this.onSelect=function(item){_this.props.setDepartment(item);_this.props.navigation.navigate('Categories');};_this.state={departments:null};return _this;}_createClass(DepartmentsScreen,[{key:\"componentDidMount\",value:function componentDidMount(){this.getDepartments();}},{key:\"getDepartments\",value:function getDepartments(){var _this2=this;this.departmentController.getAll({take:'all',isActive:1}).subscribe(function(result){var data=result.data;_this2.setState({departments:data.data});});}},{key:\"render\",value:function render(){var _this3=this;var departments=this.state.departments;return React.createElement(MowContainer,{navigation:this.props.navigation,footerActiveIndex:2,title:\"Departments\"},departments===null?React.createElement(View,null,React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null)):React.createElement(FlatList,{showsVerticalScrollIndicator:false,keyExtractor:function keyExtractor(item,index){return index.toString();},data:departments,style:[pageContainerStyle],renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(MowListItem,{key:index,style:{marginVertical:5,borderRadius:5},onPress:function onPress(){_this3.onSelect(item);},imagePath:item.image,title:item.name});}}));}}]);return DepartmentsScreen;}(React.Component);var mapStateToProps=function mapStateToProps(state){var category=state.category;return{category:category};};var mapDispatchToProps={setDepartment:setDepartment};export default connect(mapStateToProps,mapDispatchToProps)(DepartmentsScreen);","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/src/scenes/category/departments.component.tsx"],"names":["DepartmentsScreen","React","departmentController","departments","take","isActive","data","result","index","item","marginVertical","borderRadius","mapStateToProps","category","state","mapDispatchToProps","setDepartment","connect"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FlatList, View } from 'react-native';\nimport { connect } from 'react-redux';\nimport { Loading } from '../../components/Loading/loading';\nimport MowListItem from '../../components/ui/Common/ListItem/MowListItem';\nimport MowContainer from '../../components/ui/Core/Container/MowContainer';\nimport { DepartmentController } from '../../controller/department.controller';\nimport { setDepartment } from '../../store/actions/categoryActions';\nimport { pageContainerStyle } from '../../values/Styles/MowStyles';\n\ninterface IProps {\n    navigation: any;\n    category: any;\n    setDepartment(department: any): any;\n}\n\ninterface IState {\n    departments: any;\n}\n\nclass DepartmentsScreen extends React.Component<IProps, IState> {\n\n    departmentController = new DepartmentController();\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            departments: null,\n        }\n    }\n\n    componentDidMount() {\n        this.getDepartments();\n    }\n\n    getDepartments() {\n        this.departmentController.getAll({ take: 'all', isActive: 1 })\n            .subscribe((result: any) => {\n                const data = result.data;\n                this.setState({ departments: data.data });\n            })\n    }\n\n    onSelect = (item) => {\n        this.props.setDepartment(item);\n        this.props.navigation.navigate('Categories');\n    }\n\n    render() {\n        const { departments } = this.state;\n        return (\n            <MowContainer\n                navigation={this.props.navigation}\n                footerActiveIndex={2}\n                title='Departments'>\n                {\n                    departments === null ?\n                        <View>\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                        </View> :\n                        <FlatList\n                            showsVerticalScrollIndicator={false}\n                            keyExtractor={(item, index) => index.toString()}\n                            data={departments}\n                            style={[pageContainerStyle]}\n                            renderItem={({ item, index }) => (\n                                <MowListItem\n                                    key={index}\n                                    style={{ marginVertical: 5, borderRadius: 5 }}\n                                    onPress={() => { this.onSelect(item) }}\n                                    imagePath={item.image}\n                                    title={item.name} />\n                            )}\n                        />\n                }\n            </MowContainer>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const { category } = state;\n    return { category };\n};\nconst mapDispatchToProps = {\n    setDepartment: setDepartment,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(DepartmentsScreen);"]},"metadata":{},"sourceType":"module"}