{"ast":null,"code":"import _objectWithoutProperties from\"@babel/runtime/helpers/objectWithoutProperties\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import PropTypes from'prop-types';import React,{PureComponent}from'react';import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";var Indicator=function(_PureComponent){_inherits(Indicator,_PureComponent);var _super=_createSuper(Indicator);function Indicator(props){var _this;_classCallCheck(this,Indicator);_this=_super.call(this,props);_this.animationState=0;_this.savedValue=0;var animating=_this.props.animating;_this.state={progress:new Animated.Value(0),hideAnimation:new Animated.Value(animating?1:0)};return _this;}_createClass(Indicator,[{key:\"componentDidMount\",value:function componentDidMount(){var animating=this.props.animating;if(animating){this.startAnimation();}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var animating=this.props.animating;if(animating&&!prevProps.animating){this.resumeAnimation();}if(!animating&&prevProps.animating){this.stopAnimation();}if(animating^prevProps.animating){var hideAnimation=this.state.hideAnimation;var duration=this.props.hideAnimationDuration;Animated.timing(hideAnimation,{toValue:animating?1:0,duration:duration}).start();}}},{key:\"startAnimation\",value:function startAnimation(){var progress=this.state.progress;var _this$props=this.props,interaction=_this$props.interaction,animationEasing=_this$props.animationEasing,animationDuration=_this$props.animationDuration;if(0!==this.animationState){return;}var animation=Animated.timing(progress,{duration:animationDuration,easing:animationEasing,useNativeDriver:true,isInteraction:interaction,toValue:1});Animated.loop(animation).start();this.animationState=1;}},{key:\"stopAnimation\",value:function stopAnimation(){var _this2=this;var progress=this.state.progress;if(1!==this.animationState){return;}var listener=progress.addListener(function(_ref){var value=_ref.value;progress.removeListener(listener);progress.stopAnimation(function(){return _this2.saveAnimation(value);});});this.animationState=-1;}},{key:\"saveAnimation\",value:function saveAnimation(value){var animating=this.props.animating;this.savedValue=value;this.animationState=0;if(animating){this.resumeAnimation();}}},{key:\"resumeAnimation\",value:function resumeAnimation(){var _this3=this;var progress=this.state.progress;var _this$props2=this.props,interaction=_this$props2.interaction,animationDuration=_this$props2.animationDuration;if(0!==this.animationState){return;}Animated.timing(progress,{useNativeDriver:true,isInteraction:interaction,duration:(1-this.savedValue)*animationDuration,toValue:1}).start(function(_ref2){var finished=_ref2.finished;if(finished){progress.setValue(0);_this3.animationState=0;_this3.startAnimation();}});this.savedValue=0;this.animationState=1;}},{key:\"renderComponent\",value:function renderComponent(item,index){var progress=this.state.progress;var _this$props3=this.props,renderComponent=_this$props3.renderComponent,count=_this$props3.count;if('function'===typeof renderComponent){return renderComponent({index:index,count:count,progress:progress});}return null;}},{key:\"render\",value:function render(){var hideAnimation=this.state.hideAnimation;var _this$props4=this.props,count=_this$props4.count,hidesWhenStopped=_this$props4.hidesWhenStopped,props=_objectWithoutProperties(_this$props4,[\"count\",\"hidesWhenStopped\"]);if(hidesWhenStopped){props.style=[].concat(props.style||[],{opacity:hideAnimation});}return React.createElement(Animated.View,props,Array.from(new Array(count),this.renderComponent,this));}}]);return Indicator;}(PureComponent);Indicator.defaultProps={animationEasing:Easing.linear,animationDuration:1200,hideAnimationDuration:200,animating:true,interaction:true,hidesWhenStopped:true,count:1};Indicator.propTypes={animationEasing:PropTypes.func,animationDuration:PropTypes.number,hideAnimationDuration:PropTypes.number,animating:PropTypes.bool,interaction:PropTypes.bool,hidesWhenStopped:PropTypes.bool,renderComponent:PropTypes.func,count:PropTypes.number};export{Indicator as default};","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/node_modules/react-native-indicators/src/components/indicator/index.js"],"names":["PropTypes","React","PureComponent","Indicator","props","animationState","savedValue","animating","state","progress","Animated","Value","hideAnimation","startAnimation","prevProps","resumeAnimation","stopAnimation","duration","hideAnimationDuration","timing","toValue","start","interaction","animationEasing","animationDuration","animation","easing","useNativeDriver","isInteraction","loop","listener","addListener","value","removeListener","saveAnimation","finished","setValue","item","index","renderComponent","count","hidesWhenStopped","style","concat","opacity","Array","from","defaultProps","Easing","linear","propTypes","func","number","bool"],"mappings":"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","sourcesContent":["import PropTypes from 'prop-types';\nimport React, { PureComponent } from 'react';\nimport { Animated, Easing } from 'react-native';\n\nexport default class Indicator extends PureComponent {\n  static defaultProps = {\n    animationEasing: Easing.linear,\n    animationDuration: 1200,\n    hideAnimationDuration: 200,\n\n    animating: true,\n    interaction: true,\n    hidesWhenStopped: true,\n\n    count: 1,\n  };\n\n  static propTypes = {\n    animationEasing: PropTypes.func,\n    animationDuration: PropTypes.number,\n    hideAnimationDuration: PropTypes.number,\n\n    animating: PropTypes.bool,\n    interaction: PropTypes.bool,\n    hidesWhenStopped: PropTypes.bool,\n\n    renderComponent: PropTypes.func,\n    count: PropTypes.number,\n  };\n\n  constructor(props) {\n    super(props);\n\n    /*\n     *  0 -> 1\n     *    | startAnimation\n     *    | resumeAnimation\n     *\n     *  1 -> -1\n     *    | stopAnimation\n     *\n     * -1 -> 0\n     *    | saveAnimation\n     */\n    this.animationState = 0;\n    this.savedValue = 0;\n\n    let { animating } = this.props;\n\n    this.state = {\n      progress: new Animated.Value(0),\n      hideAnimation: new Animated.Value(animating? 1 : 0),\n    };\n  }\n\n  componentDidMount() {\n    let { animating } = this.props;\n\n    if (animating) {\n      this.startAnimation();\n    }\n  }\n\n  componentDidUpdate(prevProps) {\n    let { animating } = this.props;\n\n    if (animating && !prevProps.animating) {\n      this.resumeAnimation();\n    }\n\n    if (!animating && prevProps.animating) {\n      this.stopAnimation();\n    }\n\n    if (animating ^ prevProps.animating) {\n      let { hideAnimation } = this.state;\n      let { hideAnimationDuration: duration } = this.props;\n\n      Animated\n        .timing(hideAnimation, { toValue: animating? 1 : 0, duration })\n        .start();\n    }\n  }\n\n  startAnimation() {\n    let { progress } = this.state;\n    let { interaction, animationEasing, animationDuration } = this.props;\n\n    if (0 !== this.animationState) {\n      return;\n    }\n\n    let animation = Animated\n      .timing(progress, {\n        duration: animationDuration,\n        easing: animationEasing,\n        useNativeDriver: true,\n        isInteraction: interaction,\n        toValue: 1,\n      });\n\n    Animated\n      .loop(animation)\n      .start();\n\n    this.animationState = 1;\n  }\n\n  stopAnimation() {\n    let { progress } = this.state;\n\n    if (1 !== this.animationState) {\n      return;\n    }\n\n    let listener = progress\n      .addListener(({ value }) => {\n        progress.removeListener(listener);\n        progress.stopAnimation(() => this.saveAnimation(value));\n      });\n\n    this.animationState = -1;\n  }\n\n  saveAnimation(value) {\n    let { animating } = this.props;\n\n    this.savedValue = value;\n    this.animationState = 0;\n\n    if (animating) {\n      this.resumeAnimation();\n    }\n  }\n\n  resumeAnimation() {\n    let { progress } = this.state;\n    let { interaction, animationDuration } = this.props;\n\n    if (0 !== this.animationState) {\n      return;\n    }\n\n    Animated\n      .timing(progress, {\n        useNativeDriver: true,\n        isInteraction: interaction,\n        duration: (1 - this.savedValue) * animationDuration,\n        toValue: 1,\n      })\n      .start(({ finished }) => {\n        if (finished) {\n          progress.setValue(0);\n\n          this.animationState = 0;\n          this.startAnimation();\n        }\n      });\n\n    this.savedValue = 0;\n    this.animationState = 1;\n  }\n\n  renderComponent(item, index) {\n    let { progress } = this.state;\n    let { renderComponent, count } = this.props;\n\n    if ('function' === typeof renderComponent) {\n      return renderComponent({ index, count, progress });\n    }\n\n    return null;\n  }\n\n  render() {\n    let { hideAnimation } = this.state;\n    let { count, hidesWhenStopped, ...props } = this.props;\n\n    if (hidesWhenStopped) {\n      props.style = []\n        .concat(props.style || [], { opacity: hideAnimation });\n    }\n\n    return (\n      <Animated.View {...props}>\n        {Array.from(new Array(count), this.renderComponent, this)}\n      </Animated.View>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}