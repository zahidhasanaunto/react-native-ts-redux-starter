{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import FlatList from\"react-native-web/dist/exports/FlatList\";import View from\"react-native-web/dist/exports/View\";import{connect}from'react-redux';import{Loading}from\"../../components/Loading/loading\";import MowListItem from\"../../components/ui/Common/ListItem/MowListItem\";import MowContainer from\"../../components/ui/Core/Container/MowContainer\";import{SubCategoryController}from\"../../controller/subCategory.controller\";import{setSubCategory}from\"../../store/actions/categoryActions\";import{pageContainerStyle}from\"../../values/Styles/MowStyles\";var SubCategoriesScreen=function(_React$Component){_inherits(SubCategoriesScreen,_React$Component);var _super=_createSuper(SubCategoriesScreen);function SubCategoriesScreen(props){var _this;_classCallCheck(this,SubCategoriesScreen);_this=_super.call(this,props);_this.subCategoryController=new SubCategoryController();_this._unsubscribe=null;_this.onSelect=function(item){_this.props.setSubCategory(item);_this.props.navigation.navigate('ProductList');};_this.state={subCategories:null};return _this;}_createClass(SubCategoriesScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this._unsubscribe=this.props.navigation.addListener('focus',function(){_this2.setState({subCategories:null});_this2.getSubCategories(_this2.props.category.category);});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._unsubscribe();}},{key:\"getSubCategories\",value:function getSubCategories(category){var _this3=this;this.subCategoryController.getAll({take:'all',isActive:1,category:category.uuid}).subscribe(function(result){var data=result.data;_this3.setState({subCategories:data.data});});}},{key:\"render\",value:function render(){var _this4=this;var subCategories=this.state.subCategories;return React.createElement(MowContainer,{navigation:this.props.navigation,footerActiveIndex:2,title:this.props.category.category===null?'Sub Categories':this.props.category.category.name},subCategories===null?React.createElement(View,null,React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null),React.createElement(Loading,null)):React.createElement(FlatList,{showsVerticalScrollIndicator:false,keyExtractor:function keyExtractor(item,index){return index.toString();},data:subCategories,style:[pageContainerStyle],renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(MowListItem,{key:index,style:{marginVertical:5,borderRadius:5},onPress:function onPress(){_this4.onSelect(item);},imagePath:item.image,title:item.name});}}));}}]);return SubCategoriesScreen;}(React.Component);var mapStateToProps=function mapStateToProps(state){var category=state.category;return{category:category};};var mapDispatchToProps={setSubCategory:setSubCategory};export default connect(mapStateToProps,mapDispatchToProps)(SubCategoriesScreen);","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/src/scenes/category/subCategories.component.tsx"],"names":["SubCategoriesScreen","React","subCategoryController","_unsubscribe","subCategories","category","take","isActive","data","result","index","item","marginVertical","borderRadius","mapStateToProps","state","mapDispatchToProps","setSubCategory","connect"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FlatList, View } from 'react-native';\nimport { connect } from 'react-redux';\nimport { Loading } from '../../components/Loading/loading';\nimport MowListItem from '../../components/ui/Common/ListItem/MowListItem';\nimport MowContainer from '../../components/ui/Core/Container/MowContainer';\nimport { SubCategoryController } from '../../controller/subCategory.controller';\nimport { setSubCategory } from '../../store/actions/categoryActions';\nimport { pageContainerStyle } from '../../values/Styles/MowStyles';\n\ninterface IProps {\n    navigation: any;\n    category: any;\n    setSubCategory(subCategory: any): any;\n}\n\ninterface IState {\n    subCategories: any;\n}\n\nclass SubCategoriesScreen extends React.Component<IProps, IState> {\n\n    subCategoryController = new SubCategoryController();\n    _unsubscribe = null;\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            subCategories: null,\n        }\n    }\n\n    componentDidMount() {\n        this._unsubscribe = this.props.navigation.addListener('focus', () => {\n            this.setState({ subCategories: null });\n            this.getSubCategories(this.props.category.category);\n        })\n    }\n\n    componentWillUnmount() {\n        this._unsubscribe();\n    }\n\n    getSubCategories(category) {\n        this.subCategoryController.getAll({ take: 'all', isActive: 1, category: category.uuid })\n            .subscribe((result: any) => {\n                const data = result.data;\n                this.setState({ subCategories: data.data });\n            })\n    }\n\n    onSelect = (item) => {\n        this.props.setSubCategory(item);\n        this.props.navigation.navigate('ProductList');\n    }\n\n    render() {\n        const { subCategories } = this.state;\n        return (\n            <MowContainer\n                navigation={this.props.navigation}\n                footerActiveIndex={2}\n                title={this.props.category.category === null ? 'Sub Categories' : this.props.category.category.name}>\n                {\n                    subCategories === null ?\n                        <View>\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                            <Loading />\n                        </View> :\n                        <FlatList\n                            showsVerticalScrollIndicator={false}\n                            keyExtractor={(item, index) => index.toString()}\n                            data={subCategories}\n                            style={[pageContainerStyle]}\n                            renderItem={({ item, index }) => (\n                                <MowListItem\n                                    key={index}\n                                    style={{ marginVertical: 5, borderRadius: 5 }}\n                                    onPress={() => { this.onSelect(item) }}\n                                    imagePath={item.image}\n                                    title={item.name} />\n                            )}\n                        />\n                }\n            </MowContainer>\n        )\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const { category } = state;\n    return { category };\n};\nconst mapDispatchToProps = {\n    setSubCategory: setSubCategory,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(SubCategoriesScreen);"]},"metadata":{},"sourceType":"module"}