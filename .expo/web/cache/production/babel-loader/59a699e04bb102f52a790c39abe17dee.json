{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import View from\"react-native-web/dist/exports/View\";import Animated from\"react-native-web/dist/exports/Animated\";import Dimensions from\"react-native-web/dist/exports/Dimensions\";import Text from\"react-native-web/dist/exports/Text\";import RNViewPropTypes from\"react-native-web/dist/exports/ViewPropTypes\";import PropTypes from'prop-types';var ViewPropTypes=RNViewPropTypes||View.propTypes;export var DURATION={LENGTH_SHORT:500,FOREVER:0};var _Dimensions$get=Dimensions.get('window'),height=_Dimensions$get.height,width=_Dimensions$get.width;var Toast=function(_Component){_inherits(Toast,_Component);var _super=_createSuper(Toast);function Toast(props){var _this;_classCallCheck(this,Toast);_this=_super.call(this,props);_this.state={isShow:false,text:'',opacityValue:new Animated.Value(_this.props.opacity)};return _this;}_createClass(Toast,[{key:\"show\",value:function show(text,duration,callback){var _this2=this;this.duration=typeof duration==='number'?duration:DURATION.LENGTH_SHORT;this.callback=callback;this.setState({isShow:true,text:text});this.animation=Animated.timing(this.state.opacityValue,{toValue:this.props.opacity,duration:this.props.fadeInDuration});this.animation.start(function(){_this2.isShow=true;if(duration!==DURATION.FOREVER)_this2.close();});}},{key:\"close\",value:function close(duration){var _this3=this;var delay=typeof duration==='undefined'?this.duration:duration;if(delay===DURATION.FOREVER)delay=this.props.defaultCloseDelay||250;if(!this.isShow&&!this.state.isShow)return;this.timer&&clearTimeout(this.timer);this.timer=setTimeout(function(){_this3.animation=Animated.timing(_this3.state.opacityValue,{toValue:0.0,duration:_this3.props.fadeOutDuration});_this3.animation.start(function(){_this3.setState({isShow:false});_this3.isShow=false;if(typeof _this3.callback==='function'){_this3.callback();}});},delay);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.animation&&this.animation.stop();this.timer&&clearTimeout(this.timer);}},{key:\"render\",value:function render(){var pos;switch(this.props.position){case'top':pos=this.props.positionValue;break;case'center':pos=height/2;break;case'bottom':pos=height-this.props.positionValue;break;}var view=this.state.isShow?React.createElement(View,{style:[styles.container,{top:pos}],pointerEvents:\"none\"},React.createElement(Animated.View,{style:[styles.content,{opacity:this.state.opacityValue},this.props.style]},React.isValidElement(this.state.text)?this.state.text:React.createElement(Text,{style:this.props.textStyle},this.state.text))):null;return view;}}]);return Toast;}(Component);export{Toast as default};var styles=StyleSheet.create({container:{position:'absolute',left:0,right:0,elevation:999,alignItems:'center',zIndex:10000},content:{backgroundColor:'black',borderRadius:5,padding:10},text:{color:'white'}});Toast.propTypes={style:ViewPropTypes.style,position:PropTypes.oneOf(['top','center','bottom']),textStyle:Text.propTypes.style,positionValue:PropTypes.number,fadeInDuration:PropTypes.number,fadeOutDuration:PropTypes.number,opacity:PropTypes.number};Toast.defaultProps={position:'bottom',textStyle:styles.text,positionValue:120,fadeInDuration:500,fadeOutDuration:500,opacity:1};","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/node_modules/react-native-easy-toast/index.js"],"names":["React","Component","PropTypes","ViewPropTypes","RNViewPropTypes","View","propTypes","DURATION","LENGTH_SHORT","FOREVER","Dimensions","get","height","width","Toast","props","state","isShow","text","opacityValue","Animated","Value","opacity","duration","callback","setState","animation","timing","toValue","fadeInDuration","start","close","delay","defaultCloseDelay","timer","clearTimeout","setTimeout","fadeOutDuration","stop","pos","position","positionValue","view","styles","container","top","content","style","isValidElement","textStyle","StyleSheet","create","left","right","elevation","alignItems","zIndex","backgroundColor","borderRadius","padding","color","oneOf","Text","number","defaultProps"],"mappings":"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","sourcesContent":["/**\n * react-native-easy-toast\n * https://github.com/crazycodeboy/react-native-easy-toast\n * Email:crazycodeboy@gmail.com\n * Blog:http://jiapenghui.com\n * @flow\n */\n\nimport React, {Component} from 'react';\nimport {\n    StyleSheet,\n    View,\n    Animated,\n    Dimensions,\n    Text,\n    ViewPropTypes as RNViewPropTypes,\n} from 'react-native'\n\nimport PropTypes from 'prop-types';\nconst ViewPropTypes = RNViewPropTypes || View.propTypes;\nexport const DURATION = { \n    LENGTH_SHORT: 500,\n    FOREVER: 0,\n};\n\nconst {height, width} = Dimensions.get('window');\n\nexport default class Toast extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            isShow: false,\n            text: '',\n            opacityValue: new Animated.Value(this.props.opacity),\n        }\n    }\n\n    show(text, duration, callback) {\n        this.duration = typeof duration === 'number' ? duration : DURATION.LENGTH_SHORT;\n        this.callback = callback;\n        this.setState({\n            isShow: true,\n            text: text,\n        });\n\n        this.animation = Animated.timing(\n            this.state.opacityValue,\n            {\n                toValue: this.props.opacity,\n                duration: this.props.fadeInDuration,\n            }\n        )\n        this.animation.start(() => {\n            this.isShow = true;\n            if(duration !== DURATION.FOREVER) this.close();\n        });\n    }\n\n    close( duration ) {\n        let delay = typeof duration === 'undefined' ? this.duration : duration;\n\n        if(delay === DURATION.FOREVER) delay = this.props.defaultCloseDelay || 250;\n\n        if (!this.isShow && !this.state.isShow) return;\n        this.timer && clearTimeout(this.timer);\n        this.timer = setTimeout(() => {\n            this.animation = Animated.timing(\n                this.state.opacityValue,\n                {\n                    toValue: 0.0,\n                    duration: this.props.fadeOutDuration,\n                }\n            )\n            this.animation.start(() => {\n                this.setState({\n                    isShow: false,\n                });\n                this.isShow = false;\n                if(typeof this.callback === 'function') {\n                    this.callback();\n                }\n            });\n        }, delay);\n    }\n\n    componentWillUnmount() {\n        this.animation && this.animation.stop()\n        this.timer && clearTimeout(this.timer);\n    }\n\n    render() {\n        let pos;\n        switch (this.props.position) {\n            case 'top':\n                pos = this.props.positionValue;\n                break;\n            case 'center':\n                pos = height / 2;\n                break;\n            case 'bottom':\n                pos = height - this.props.positionValue;\n                break;\n        }\n\n        const view = this.state.isShow ?\n            <View\n                style={[styles.container, { top: pos }]}\n                pointerEvents=\"none\"\n            >\n                <Animated.View\n                    style={[styles.content, { opacity: this.state.opacityValue }, this.props.style]}\n                >\n                    {React.isValidElement(this.state.text) ? this.state.text : <Text style={this.props.textStyle}>{this.state.text}</Text>}\n                </Animated.View>\n            </View> : null;\n        return view;\n    }\n}\n\nconst styles = StyleSheet.create({\n    container: {\n        position: 'absolute',\n        left: 0,\n        right: 0,\n        elevation: 999,\n        alignItems: 'center',\n        zIndex: 10000,\n    },\n    content: {\n        backgroundColor: 'black',\n        borderRadius: 5,\n        padding: 10,\n    },\n    text: {\n        color: 'white'\n    }\n});\n\nToast.propTypes = {\n    style: ViewPropTypes.style,\n    position: PropTypes.oneOf([\n        'top',\n        'center',\n        'bottom',\n    ]),\n    textStyle: Text.propTypes.style,\n    positionValue:PropTypes.number,\n    fadeInDuration:PropTypes.number,\n    fadeOutDuration:PropTypes.number,\n    opacity:PropTypes.number\n}\n\nToast.defaultProps = {\n    position: 'bottom',\n    textStyle: styles.text,\n    positionValue: 120,\n    fadeInDuration: 500,\n    fadeOutDuration: 500,\n    opacity: 1\n}\n"]},"metadata":{},"sourceType":"module"}