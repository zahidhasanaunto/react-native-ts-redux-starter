{"ast":null,"code":"import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import FlatList from\"react-native-web/dist/exports/FlatList\";import Text from\"react-native-web/dist/exports/Text\";import TouchableOpacity from\"react-native-web/dist/exports/TouchableOpacity\";import View from\"react-native-web/dist/exports/View\";import{KeyboardAwareScrollView}from'react-native-keyboard-aware-scroll-view';import{heightPercentageToDP as hp,widthPercentageToDP as wp}from'react-native-responsive-screen';import{connect}from'react-redux';import{MowButtonBasic}from\"../../components/ui/Common/Button/MowButton\";import{MowCheckBox}from\"../../components/ui/Common/CheckBox/MowCheckBox\";import{MowInput}from\"../../components/ui/Common/Input/MowInput\";import{MowModal}from\"../../components/ui/Common/Modal/MowModal\";import{_showToast}from\"../../components/ui/Common/Toast/MowToast\";import MowContainer from\"../../components/ui/Core/Container/MowContainer\";import{MowInfoHeader}from\"../../components/ui/MowInfoHeader\";import{CustomerAddressController}from\"../../controller/customerAddress.controller\";import{setBillingAddress}from\"../../store/actions/orderActions\";import{mowColors}from\"../../values/Colors/MowColors\";import{borderStyle,categoryStyleWithoutShadow,fontFamily,pageContainerStyle}from\"../../values/Styles/MowStyles\";var BillingAddressScreen=function(_React$Component){_inherits(BillingAddressScreen,_React$Component);var _super=_createSuper(BillingAddressScreen);function BillingAddressScreen(props){var _this;_classCallCheck(this,BillingAddressScreen);_this=_super.call(this,props);_this.modelController=new CustomerAddressController();_this._unsubscribe=null;_this.iconColor=mowColors.mainColor;_this.pickerStyle={container:{marginVertical:5},button:_objectSpread({},borderStyle,{backgroundColor:mowColors.viewBGColor}),buttonText:{width:'63%',fontSize:hp('1.8%'),fontWeight:'normal',fontStyle:'normal',letterSpacing:0,textAlign:'left',fontFamily:fontFamily.regular,color:'#aeaeae'},buttonIcon:{color:mowColors.mainColor}};_this.inputStyle={container:{backgroundColor:mowColors.viewBGColor}};_this.onModalClose=function(){_this.setState({isModalVisible:false});_this.getAddress();};_this.saveAddress=function(){_this.setState({isModalVisible:false});var payload={firstName:_this.state.firstName,lastName:_this.state.lastName,phoneNumber:_this.state.phoneNumber,city:_this.state.city,zip:_this.state.zip,address:_this.state.address,title:_this.state.title,type:'Billing',customer:_this.props.user.user.uuid};_this.modelController.create(payload).subscribe(function(result){var data=result.data;if(data.success){_showToast.success('Address Added');_this.getAddress();}});};_this.getAddress=function(){_this.modelController.getAll({customer:_this.props.user.user.uuid,type:'Billing'}).subscribe(function(result){var data=result.data;_this.setState({addresses:data.data});});};_this.onSelectAddress=function(item){_this.setState({selectedAddress:item});};_this.state={addresses:[],selectedAddress:null,isModalVisible:false,firstName:null,lastName:null,phoneNumber:null,city:null,zip:null,address:null,title:null};return _this;}_createClass(BillingAddressScreen,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;this._unsubscribe=this.props.navigation.addListener('focus',function(){_this2.getAddress();});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._unsubscribe();}},{key:\"onChangeText\",value:function onChangeText(name,value){if(name==='firstName'){this.setState({firstName:value});}if(name==='lastName'){this.setState({lastName:value});}if(name==='phoneNumber'){this.setState({phoneNumber:value});}if(name==='city'){this.setState({city:value});}if(name==='zip'){this.setState({zip:value});}if(name==='address'){this.setState({address:value});}if(name==='title'){this.setState({title:value});}}},{key:\"render\",value:function render(){var _this3=this;return React.createElement(MowContainer,{navigation:this.props.navigation,style:{backgroundColor:mowColors.pageBGDarkColor},title:'Billing Address'},this.props.product.cart.length>0?React.createElement(MowInfoHeader,{activeIndex:1}):null,React.createElement(View,{style:{width:wp('45%'),marginLeft:10,marginTop:10}},React.createElement(MowButtonBasic,{containerStyle:{marginVertical:0},onPress:function onPress(){_this3.setState({isModalVisible:true});},size:'xSmall',stickyIcon:true,leftIcon:'plus',type:'success'},\"ADD NEW\")),this.state.addresses.length>0?React.createElement(FlatList,{showsVerticalScrollIndicator:false,keyExtractor:function keyExtractor(item,index){return index.toString();},data:this.state.addresses,style:{marginTop:10},renderItem:function renderItem(_ref){var item=_ref.item,index=_ref.index;return React.createElement(TouchableOpacity,{onPress:function onPress(){_this3.onSelectAddress(item);},key:index,style:[categoryStyleWithoutShadow,_objectSpread({margin:10,marginVertical:7,flexDirection:'row'},borderStyle,{backgroundColor:mowColors.viewBGColor})]},React.createElement(MowCheckBox,{checkedColor:mowColors.mainColor,checked:_this3.state.selectedAddress===null?false:_this3.state.selectedAddress.uuid===item.uuid,containerStyle:{marginRight:wp(5),alignSelf:'center'}}),React.createElement(View,{style:{right:wp(2)}},React.createElement(Text,{style:{fontSize:hp('2%'),fontWeight:'500',fontStyle:'normal',letterSpacing:-0.01,textAlign:'left',color:mowColors.titleTextColor,width:'95%'}},item.title),React.createElement(Text,{style:{marginVertical:3,opacity:0.72,fontSize:hp('1.8%'),fontWeight:'500',fontStyle:'normal',lineHeight:20,letterSpacing:0,textAlign:'left',color:mowColors.titleTextColor,width:'90%'}},item.address),React.createElement(View,{style:{flexDirection:'row'}},React.createElement(Text,{style:{fontSize:hp('1.7%'),opacity:0.72,fontWeight:'500',fontStyle:'normal',letterSpacing:0,textAlign:'left',color:mowColors.titleTextColor}},item.firstName,\" \",item.lastName))));}}):React.createElement(View,null,React.createElement(Text,null,\"No Address Saved\")),this.state.selectedAddress!==null?React.createElement(View,{style:{margin:10}},React.createElement(MowButtonBasic,{onPress:function onPress(){_this3.props.setBillingAddress(_this3.state.selectedAddress);_this3.props.navigation.navigate('ShippingAddress');},type:'success'},\"Continue\")):null,React.createElement(MowModal,{modalVisible:this.state.isModalVisible,onClosed:this.onModalClose,title:'Add New Billing Address',closeButton:true},React.createElement(KeyboardAwareScrollView,{style:pageContainerStyle,showsVerticalScrollIndicator:false},React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('firstName',value);},placeholder:'First Name',iconColor:this.iconColor,leftIcon:'user',type:'text'}),React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('lastName',value);},placeholder:'Last Name',iconColor:this.iconColor,leftIcon:'user',type:'text'}),React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('phoneNumber',value);},placeholder:'Phone Number',iconColor:this.iconColor,leftIcon:'phone',type:'number'}),React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('title',value);},placeholder:'Address Title',iconColor:this.iconColor,leftIcon:'navigation',type:'text'}),React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('city',value);},placeholder:'City',iconColor:this.iconColor,leftIcon:'globe',type:'text'}),React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('zip',value);},placeholder:'Zip',iconColor:this.iconColor,leftIcon:'globe',type:'text'}),React.createElement(MowInput,{containerStyle:this.inputStyle.container,onChangeText:function onChangeText(value){return _this3.onChangeText('address',value);},placeholder:'Full Address',iconColor:this.iconColor,leftIcon:'navigation',type:'textarea'})),React.createElement(View,{style:{marginHorizontal:wp('3%')}},React.createElement(MowButtonBasic,{disabled:this.state.firstName===null||this.state.lastName===null||this.state.city===null||this.state.zip===null||this.state.phoneNumber===null||this.state.title===null||this.state.address===null,onPress:this.saveAddress,size:'medium',type:'success'},\"Save Address\"))));}}]);return BillingAddressScreen;}(React.Component);var mapStateToProps=function mapStateToProps(state){var user=state.user,product=state.product;return{user:user,product:product};};var mapDispatchToProps={setBillingAddress:setBillingAddress};export default connect(mapStateToProps,mapDispatchToProps)(BillingAddressScreen);","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/src/scenes/cart/billingAddress.component.tsx"],"names":["heightPercentageToDP","widthPercentageToDP","BillingAddressScreen","React","modelController","_unsubscribe","iconColor","mowColors","mainColor","pickerStyle","container","marginVertical","button","backgroundColor","buttonText","width","fontSize","hp","fontWeight","fontStyle","letterSpacing","textAlign","fontFamily","color","buttonIcon","inputStyle","addresses","selectedAddress","isModalVisible","firstName","lastName","phoneNumber","city","zip","address","title","payload","type","customer","data","result","_showToast","name","value","wp","marginLeft","marginTop","index","item","margin","flexDirection","marginRight","alignSelf","right","opacity","lineHeight","marginHorizontal","mapStateToProps","user","product","state","mapDispatchToProps","setBillingAddress","connect"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { FlatList, Text, TouchableOpacity, View } from 'react-native';\nimport { KeyboardAwareScrollView } from 'react-native-keyboard-aware-scroll-view';\nimport { heightPercentageToDP as hp, widthPercentageToDP as wp } from 'react-native-responsive-screen';\nimport { connect } from 'react-redux';\nimport { MowButtonBasic } from '../../components/ui/Common/Button/MowButton';\nimport { MowCheckBox } from '../../components/ui/Common/CheckBox/MowCheckBox';\nimport { MowInput } from '../../components/ui/Common/Input/MowInput';\nimport { MowModal } from '../../components/ui/Common/Modal/MowModal';\nimport { _showToast } from '../../components/ui/Common/Toast/MowToast';\nimport MowContainer from '../../components/ui/Core/Container/MowContainer';\nimport { MowInfoHeader } from '../../components/ui/MowInfoHeader';\nimport { CustomerAddressController } from '../../controller/customerAddress.controller';\nimport { setBillingAddress } from '../../store/actions/orderActions';\nimport { mowColors } from '../../values/Colors/MowColors';\nimport { borderStyle, categoryStyleWithoutShadow, fontFamily, pageContainerStyle } from '../../values/Styles/MowStyles';\n\ninterface IProps {\n    user: any;\n    product: any;\n    navigation: any;\n    setBillingAddress(data): any;\n}\n\ninterface IState {\n    addresses: any[];\n    selectedAddress: any;\n    isModalVisible: boolean;\n\n    firstName: string;\n    lastName: string;\n    phoneNumber: string;\n    city: string;\n    zip: string;\n    address: string;\n    title: string;\n}\n\nclass BillingAddressScreen extends React.Component<IProps, IState> {\n\n    modelController = new CustomerAddressController();\n    _unsubscribe = null;\n\n    iconColor = mowColors.mainColor;\n\n    pickerStyle = {\n        container: {\n            marginVertical: 5,\n        },\n        button: {\n            ...borderStyle,\n            backgroundColor: mowColors.viewBGColor,\n        },\n        buttonText: {\n            width: '63%',\n            fontSize: hp('1.8%'),\n            fontWeight: 'normal',\n            fontStyle: 'normal',\n            letterSpacing: 0,\n            textAlign: 'left',\n            fontFamily: fontFamily.regular,\n            color: '#aeaeae',\n        },\n        buttonIcon: {\n            color: mowColors.mainColor,\n        },\n    };\n\n    inputStyle = {\n        container: {\n            backgroundColor: mowColors.viewBGColor,\n        },\n    };\n\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            addresses: [],\n            selectedAddress: null,\n            isModalVisible: false,\n            firstName: null,\n            lastName: null,\n            phoneNumber: null,\n            city: null,\n            zip: null,\n            address: null,\n            title: null,\n        };\n    }\n\n    onModalClose = () => {\n        this.setState({ isModalVisible: false });\n        this.getAddress();\n    }\n\n    saveAddress = () => {\n        this.setState({ isModalVisible: false });\n        const payload = {\n            firstName: this.state.firstName,\n            lastName: this.state.lastName,\n            phoneNumber: this.state.phoneNumber,\n            city: this.state.city,\n            zip: this.state.zip,\n            address: this.state.address,\n            title: this.state.title,\n            type: 'Billing',\n            customer: this.props.user.user.uuid,\n        }\n\n        this.modelController.create(payload)\n            .subscribe((result: any) => {\n                const data = result.data;\n                if (data.success) {\n                    _showToast.success('Address Added');\n                    this.getAddress();\n                }\n            })\n    }\n\n    getAddress = () => {\n        this.modelController.getAll({ customer: this.props.user.user.uuid, type: 'Billing' })\n            .subscribe((result: any) => {\n                const data = result.data;\n                this.setState({ addresses: data.data });\n            });\n    }\n\n    componentDidMount() {\n        this._unsubscribe = this.props.navigation.addListener('focus', () => {\n            this.getAddress();\n        });\n    }\n\n    componentWillUnmount() {\n        this._unsubscribe();\n    }\n\n    onChangeText(name, value) {\n        if (name === 'firstName') {\n            this.setState({ firstName: value });\n        }\n\n        if (name === 'lastName') {\n            this.setState({ lastName: value });\n        }\n\n        if (name === 'phoneNumber') {\n            this.setState({ phoneNumber: value });\n        }\n\n        if (name === 'city') {\n            this.setState({ city: value });\n        }\n\n        if (name === 'zip') {\n            this.setState({ zip: value });\n        }\n\n        if (name === 'address') {\n            this.setState({ address: value });\n        }\n\n        if (name === 'title') {\n            this.setState({ title: value });\n        }\n    }\n\n    onSelectAddress = (item) => {\n        this.setState({ selectedAddress: item });\n    }\n\n    render() {\n\n        return (\n\n            <MowContainer\n                navigation={this.props.navigation}\n                style={{ backgroundColor: mowColors.pageBGDarkColor }}\n                title={'Billing Address'}>\n                {\n                    this.props.product.cart.length > 0 ?\n                        <MowInfoHeader\n                            activeIndex={1} /> : null\n                }\n                <View\n                    style={{\n                        width: wp('45%'),\n                        marginLeft: 10,\n                        marginTop: 10,\n                    }}>\n                    <MowButtonBasic\n                        containerStyle={{ marginVertical: 0 }}\n                        onPress={() => { this.setState({ isModalVisible: true }) }}\n                        size={'xSmall'}\n                        stickyIcon={true}\n                        leftIcon={'plus'}\n                        type={'success'}>\n                        ADD NEW\n                    </MowButtonBasic>\n                </View>\n\n                {\n                    this.state.addresses.length > 0 ?\n                        <FlatList\n                            showsVerticalScrollIndicator={false}\n                            keyExtractor={(item, index) => index.toString()}\n                            data={this.state.addresses}\n                            style={{ marginTop: 10 }}\n                            renderItem={({ item, index }) => (\n\n                                <TouchableOpacity\n                                    onPress={() => { this.onSelectAddress(item) }}\n                                    key={index}\n                                    style={[\n                                        categoryStyleWithoutShadow, {\n                                            margin: 10,\n                                            marginVertical: 7,\n                                            flexDirection: 'row',\n                                            ...borderStyle,\n                                            backgroundColor: mowColors.viewBGColor,\n                                        }]}>\n\n                                    <MowCheckBox\n                                        checkedColor={mowColors.mainColor}\n                                        checked={\n                                            this.state.selectedAddress === null ?\n                                                false : (this.state.selectedAddress.uuid === item.uuid)}\n                                        containerStyle={{ marginRight: wp(5), alignSelf: 'center' }} />\n\n                                    <View\n                                        style={{ right: wp(2) }}>\n                                        <Text\n                                            style={{\n                                                fontSize: hp('2%'),\n                                                fontWeight: '500',\n                                                fontStyle: 'normal',\n                                                letterSpacing: -0.01,\n                                                textAlign: 'left',\n                                                color: mowColors.titleTextColor,\n                                                width: '95%',\n                                            }}>\n                                            {item.title}\n                                        </Text>\n                                        <Text\n                                            style={{\n                                                marginVertical: 3,\n                                                opacity: 0.72,\n                                                fontSize: hp('1.8%'),\n                                                fontWeight: '500',\n                                                fontStyle: 'normal',\n                                                lineHeight: 20,\n                                                letterSpacing: 0,\n                                                textAlign: 'left',\n                                                color: mowColors.titleTextColor,\n                                                width: '90%',\n                                            }}>\n                                            {item.address}\n                                        </Text>\n                                        <View\n                                            style={{ flexDirection: 'row' }}>\n                                            <Text\n                                                style={{\n                                                    fontSize: hp('1.7%'),\n                                                    opacity: 0.72,\n                                                    fontWeight: '500',\n                                                    fontStyle: 'normal',\n                                                    letterSpacing: 0,\n                                                    textAlign: 'left',\n                                                    color: mowColors.titleTextColor,\n                                                }}>\n                                                {item.firstName} {item.lastName}\n                                            </Text>\n                                        </View>\n                                    </View>\n                                </TouchableOpacity>\n                            )}\n                        /> : <View>\n                            <Text>No Address Saved</Text>\n                        </View>\n                }\n                {\n                    this.state.selectedAddress !== null ?\n                        <View\n                            style={{ margin: 10 }}>\n                            <MowButtonBasic\n                                onPress={() => {\n                                    this.props.setBillingAddress(this.state.selectedAddress);\n                                    this.props.navigation.navigate('ShippingAddress');\n                                }}\n                                type={'success'}>\n                                Continue\n                            </MowButtonBasic>\n                        </View> : null\n                }\n\n                <MowModal\n                    modalVisible={this.state.isModalVisible}\n                    onClosed={this.onModalClose}\n                    title={'Add New Billing Address'}\n                    closeButton={true}>\n\n                    <KeyboardAwareScrollView\n                        style={pageContainerStyle}\n                        showsVerticalScrollIndicator={false}>\n\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('firstName', value)}\n                            placeholder={'First Name'}\n                            iconColor={this.iconColor}\n                            leftIcon={'user'}\n                            type={'text'} />\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('lastName', value)}\n                            placeholder={'Last Name'}\n                            iconColor={this.iconColor}\n                            leftIcon={'user'}\n                            type={'text'} />\n\n                        {/* phone input */}\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('phoneNumber', value)}\n                            placeholder={'Phone Number'}\n                            iconColor={this.iconColor}\n                            leftIcon={'phone'}\n                            type={'number'} />\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('title', value)}\n                            placeholder={'Address Title'}\n                            iconColor={this.iconColor}\n                            leftIcon={'navigation'}\n                            type={'text'} />\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('city', value)}\n                            placeholder={'City'}\n                            iconColor={this.iconColor}\n                            leftIcon={'globe'}\n                            type={'text'} />\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('zip', value)}\n                            placeholder={'Zip'}\n                            iconColor={this.iconColor}\n                            leftIcon={'globe'}\n                            type={'text'} />\n\n                        <MowInput\n                            containerStyle={this.inputStyle.container}\n                            onChangeText={value => this.onChangeText('address', value)}\n                            placeholder={'Full Address'}\n                            iconColor={this.iconColor}\n                            leftIcon={'navigation'}\n                            type={'textarea'} />\n\n                    </KeyboardAwareScrollView>\n                    <View\n                        style={{ marginHorizontal: wp('3%') }}>\n                        <MowButtonBasic\n                            disabled={\n                                this.state.firstName === null ||\n                                this.state.lastName === null ||\n                                this.state.city === null ||\n                                this.state.zip === null ||\n                                this.state.phoneNumber === null ||\n                                this.state.title === null ||\n                                this.state.address === null\n                            }\n                            onPress={this.saveAddress}\n                            size={'medium'}\n                            type={'success'}>\n                            Save Address\n                        </MowButtonBasic>\n                    </View>\n                </MowModal>\n            </MowContainer>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => {\n    const { user, product } = state;\n    return { user, product };\n};\nconst mapDispatchToProps = {\n    setBillingAddress: setBillingAddress,\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(BillingAddressScreen);\n"]},"metadata":{},"sourceType":"module"}