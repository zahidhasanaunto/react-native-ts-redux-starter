{"ast":null,"code":"import _extends from\"@babel/runtime/helpers/extends\";import _defineProperty from\"@babel/runtime/helpers/defineProperty\";import _toConsumableArray from\"@babel/runtime/helpers/toConsumableArray\";import _slicedToArray from\"@babel/runtime/helpers/slicedToArray\";import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _assertThisInitialized from\"@babel/runtime/helpers/assertThisInitialized\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(Object(source),true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React,{Component}from'react';import Animated from\"react-native-web/dist/exports/Animated\";import Easing from\"react-native-web/dist/exports/Easing\";import FlatList from\"react-native-web/dist/exports/FlatList\";import I18nManager from\"react-native-web/dist/exports/I18nManager\";import Platform from\"react-native-web/dist/exports/Platform\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import View from\"react-native-web/dist/exports/View\";import ViewPropTypes from\"react-native-web/dist/exports/ViewPropTypes\";import PropTypes from'prop-types';import shallowCompare from'react-addons-shallow-compare';import{defaultScrollInterpolator,stackScrollInterpolator,tinderScrollInterpolator,defaultAnimatedStyles,shiftAnimatedStyles,stackAnimatedStyles,tinderAnimatedStyles}from\"../utils/animations\";var IS_IOS=Platform.OS==='ios';var AnimatedFlatList=FlatList?Animated.createAnimatedComponent(FlatList):null;var AnimatedScrollView=Animated.createAnimatedComponent(ScrollView);var IS_RTL=I18nManager.isRTL;var Carousel=function(_Component){_inherits(Carousel,_Component);var _super=_createSuper(Carousel);function Carousel(props){var _this;_classCallCheck(this,Carousel);_this=_super.call(this,props);_this.state={hideCarousel:true,interpolators:[]};var initialActiveItem=_this._getFirstItem(props.firstItem);_this._activeItem=initialActiveItem;_this._previousActiveItem=initialActiveItem;_this._previousFirstItem=initialActiveItem;_this._previousItemsLength=initialActiveItem;_this._mounted=false;_this._positions=[];_this._currentContentOffset=0;_this._canFireBeforeCallback=false;_this._canFireCallback=false;_this._scrollOffsetRef=null;_this._onScrollTriggered=true;_this._lastScrollDate=0;_this._scrollEnabled=props.scrollEnabled!==false;_this._initPositionsAndInterpolators=_this._initPositionsAndInterpolators.bind(_assertThisInitialized(_this));_this._renderItem=_this._renderItem.bind(_assertThisInitialized(_this));_this._onSnap=_this._onSnap.bind(_assertThisInitialized(_this));_this._onLayout=_this._onLayout.bind(_assertThisInitialized(_this));_this._onScroll=_this._onScroll.bind(_assertThisInitialized(_this));_this._onScrollBeginDrag=props.enableSnap?_this._onScrollBeginDrag.bind(_assertThisInitialized(_this)):undefined;_this._onScrollEnd=props.enableSnap||props.autoplay?_this._onScrollEnd.bind(_assertThisInitialized(_this)):undefined;_this._onScrollEndDrag=!props.enableMomentum?_this._onScrollEndDrag.bind(_assertThisInitialized(_this)):undefined;_this._onMomentumScrollEnd=props.enableMomentum?_this._onMomentumScrollEnd.bind(_assertThisInitialized(_this)):undefined;_this._onTouchStart=_this._onTouchStart.bind(_assertThisInitialized(_this));_this._onTouchEnd=_this._onTouchEnd.bind(_assertThisInitialized(_this));_this._onTouchRelease=_this._onTouchRelease.bind(_assertThisInitialized(_this));_this._getKeyExtractor=_this._getKeyExtractor.bind(_assertThisInitialized(_this));_this._setScrollHandler(props);_this._ignoreNextMomentum=false;if(!ViewPropTypes){console.warn('react-native-snap-carousel: It is recommended to use at least version 0.44 of React Native with the plugin');}if(!props.vertical&&(!props.sliderWidth||!props.itemWidth)){console.error('react-native-snap-carousel: You need to specify both `sliderWidth` and `itemWidth` for horizontal carousels');}if(props.vertical&&(!props.sliderHeight||!props.itemHeight)){console.error('react-native-snap-carousel: You need to specify both `sliderHeight` and `itemHeight` for vertical carousels');}if(props.apparitionDelay&&!IS_IOS&&!props.useScrollView){console.warn('react-native-snap-carousel: Using `apparitionDelay` on Android is not recommended since it can lead to rendering issues');}if(props.customAnimationType||props.customAnimationOptions){console.warn('react-native-snap-carousel: Props `customAnimationType` and `customAnimationOptions` have been renamed to `activeAnimationType` and `activeAnimationOptions`');}if(props.onScrollViewScroll){console.error('react-native-snap-carousel: Prop `onScrollViewScroll` has been removed. Use `onScroll` instead');}return _this;}_createClass(Carousel,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var _this$props=this.props,apparitionDelay=_this$props.apparitionDelay,autoplay=_this$props.autoplay,firstItem=_this$props.firstItem;var _firstItem=this._getFirstItem(firstItem);var apparitionCallback=function apparitionCallback(){_this2.setState({hideCarousel:false});if(autoplay){_this2.startAutoplay();}};this._mounted=true;this._initPositionsAndInterpolators();requestAnimationFrame(function(){if(!_this2._mounted){return;}_this2._snapToItem(_firstItem,false,false,true,false);_this2._hackActiveSlideAnimation(_firstItem,'start',true);if(apparitionDelay){_this2._apparitionTimeout=setTimeout(function(){apparitionCallback();},apparitionDelay);}else{apparitionCallback();}});}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){if(this.props.shouldOptimizeUpdates===false){return true;}else{return shallowCompare(this,nextProps,nextState);}}},{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){var interpolators=this.state.interpolators;var _this$props2=this.props,firstItem=_this$props2.firstItem,itemHeight=_this$props2.itemHeight,itemWidth=_this$props2.itemWidth,scrollEnabled=_this$props2.scrollEnabled,sliderHeight=_this$props2.sliderHeight,sliderWidth=_this$props2.sliderWidth;var itemsLength=this._getCustomDataLength(this.props);if(!itemsLength){return;}var nextFirstItem=this._getFirstItem(firstItem,this.props);var nextActiveItem=this._activeItem||this._activeItem===0?this._activeItem:nextFirstItem;var hasNewSliderWidth=sliderWidth&&sliderWidth!==prevProps.sliderWidth;var hasNewSliderHeight=sliderHeight&&sliderHeight!==prevProps.sliderHeight;var hasNewItemWidth=itemWidth&&itemWidth!==prevProps.itemWidth;var hasNewItemHeight=itemHeight&&itemHeight!==prevProps.itemHeight;var hasNewScrollEnabled=scrollEnabled!==prevProps.scrollEnabled;if(nextActiveItem>itemsLength-1){nextActiveItem=itemsLength-1;}if(hasNewScrollEnabled){this._setScrollEnabled(scrollEnabled);}if(interpolators.length!==itemsLength||hasNewSliderWidth||hasNewSliderHeight||hasNewItemWidth||hasNewItemHeight){this._activeItem=nextActiveItem;this._previousItemsLength=itemsLength;this._initPositionsAndInterpolators(this.props);if(this._previousItemsLength>itemsLength){this._hackActiveSlideAnimation(nextActiveItem,null,true);}if(hasNewSliderWidth||hasNewSliderHeight||hasNewItemWidth||hasNewItemHeight){this._snapToItem(nextActiveItem,false,false,false,false);}}else if(nextFirstItem!==this._previousFirstItem&&nextFirstItem!==this._activeItem){this._activeItem=nextFirstItem;this._previousFirstItem=nextFirstItem;this._snapToItem(nextFirstItem,false,true,false,false);}if(this.props.onScroll!==prevProps.onScroll){this._setScrollHandler(this.props);}}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this._mounted=false;this.stopAutoplay();clearTimeout(this._apparitionTimeout);clearTimeout(this._hackSlideAnimationTimeout);clearTimeout(this._enableAutoplayTimeout);clearTimeout(this._autoplayTimeout);clearTimeout(this._snapNoMomentumTimeout);clearTimeout(this._edgeItemTimeout);clearTimeout(this._lockScrollTimeout);}},{key:\"_setScrollHandler\",value:function _setScrollHandler(props){var scrollEventConfig={listener:this._onScroll,useNativeDriver:true};this._scrollPos=new Animated.Value(0);var argMapping=props.vertical?[{nativeEvent:{contentOffset:{y:this._scrollPos}}}]:[{nativeEvent:{contentOffset:{x:this._scrollPos}}}];if(props.onScroll&&Array.isArray(props.onScroll._argMapping)){argMapping.pop();var _props$onScroll$_argM=_slicedToArray(props.onScroll._argMapping,1),argMap=_props$onScroll$_argM[0];if(argMap&&argMap.nativeEvent&&argMap.nativeEvent.contentOffset){this._scrollPos=argMap.nativeEvent.contentOffset.x||argMap.nativeEvent.contentOffset.y||this._scrollPos;}argMapping.push.apply(argMapping,_toConsumableArray(props.onScroll._argMapping));}this._onScrollHandler=Animated.event(argMapping,scrollEventConfig);}},{key:\"_needsScrollView\",value:function _needsScrollView(){var useScrollView=this.props.useScrollView;return useScrollView||!AnimatedFlatList||this._shouldUseStackLayout()||this._shouldUseTinderLayout();}},{key:\"_needsRTLAdaptations\",value:function _needsRTLAdaptations(){var vertical=this.props.vertical;return IS_RTL&&!IS_IOS&&!vertical;}},{key:\"_canLockScroll\",value:function _canLockScroll(){var _this$props3=this.props,scrollEnabled=_this$props3.scrollEnabled,enableMomentum=_this$props3.enableMomentum,lockScrollWhileSnapping=_this$props3.lockScrollWhileSnapping;return scrollEnabled&&!enableMomentum&&lockScrollWhileSnapping;}},{key:\"_enableLoop\",value:function _enableLoop(){var _this$props4=this.props,data=_this$props4.data,enableSnap=_this$props4.enableSnap,loop=_this$props4.loop;return enableSnap&&loop&&data&&data.length&&data.length>1;}},{key:\"_shouldAnimateSlides\",value:function _shouldAnimateSlides(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var inactiveSlideOpacity=props.inactiveSlideOpacity,inactiveSlideScale=props.inactiveSlideScale,scrollInterpolator=props.scrollInterpolator,slideInterpolatedStyle=props.slideInterpolatedStyle;return inactiveSlideOpacity<1||inactiveSlideScale<1||!!scrollInterpolator||!!slideInterpolatedStyle||this._shouldUseShiftLayout()||this._shouldUseStackLayout()||this._shouldUseTinderLayout();}},{key:\"_shouldUseCustomAnimation\",value:function _shouldUseCustomAnimation(){var activeAnimationOptions=this.props.activeAnimationOptions;return!!activeAnimationOptions&&!this._shouldUseStackLayout()&&!this._shouldUseTinderLayout();}},{key:\"_shouldUseShiftLayout\",value:function _shouldUseShiftLayout(){var _this$props5=this.props,inactiveSlideShift=_this$props5.inactiveSlideShift,layout=_this$props5.layout;return layout==='default'&&inactiveSlideShift!==0;}},{key:\"_shouldUseStackLayout\",value:function _shouldUseStackLayout(){return this.props.layout==='stack';}},{key:\"_shouldUseTinderLayout\",value:function _shouldUseTinderLayout(){return this.props.layout==='tinder';}},{key:\"_getCustomData\",value:function _getCustomData(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var data=props.data,loopClonesPerSide=props.loopClonesPerSide;var dataLength=data&&data.length;if(!dataLength){return[];}if(!this._enableLoop()){return data;}var previousItems=[];var nextItems=[];if(loopClonesPerSide>dataLength){var _previousItems2,_nextItems2;var dataMultiplier=Math.floor(loopClonesPerSide/dataLength);var remainder=loopClonesPerSide%dataLength;for(var i=0;i<dataMultiplier;i++){var _previousItems,_nextItems;(_previousItems=previousItems).push.apply(_previousItems,_toConsumableArray(data));(_nextItems=nextItems).push.apply(_nextItems,_toConsumableArray(data));}(_previousItems2=previousItems).unshift.apply(_previousItems2,_toConsumableArray(data.slice(-remainder)));(_nextItems2=nextItems).push.apply(_nextItems2,_toConsumableArray(data.slice(0,remainder)));}else{previousItems=data.slice(-loopClonesPerSide);nextItems=data.slice(0,loopClonesPerSide);}return previousItems.concat(data,nextItems);}},{key:\"_getCustomDataLength\",value:function _getCustomDataLength(){var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var data=props.data,loopClonesPerSide=props.loopClonesPerSide;var dataLength=data&&data.length;if(!dataLength){return 0;}return this._enableLoop()?dataLength+2*loopClonesPerSide:dataLength;}},{key:\"_getCustomIndex\",value:function _getCustomIndex(index){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.props;var itemsLength=this._getCustomDataLength(props);if(!itemsLength||!index&&index!==0){return 0;}return this._needsRTLAdaptations()?itemsLength-index-1:index;}},{key:\"_getDataIndex\",value:function _getDataIndex(index){var _this$props6=this.props,data=_this$props6.data,loopClonesPerSide=_this$props6.loopClonesPerSide;var dataLength=data&&data.length;if(!this._enableLoop()||!dataLength){return index;}if(index>=dataLength+loopClonesPerSide){return loopClonesPerSide>dataLength?(index-loopClonesPerSide)%dataLength:index-dataLength-loopClonesPerSide;}else if(index<loopClonesPerSide){if(loopClonesPerSide>dataLength){var baseDataIndexes=[];var dataIndexes=[];var dataMultiplier=Math.floor(loopClonesPerSide/dataLength);var remainder=loopClonesPerSide%dataLength;for(var i=0;i<dataLength;i++){baseDataIndexes.push(i);}for(var j=0;j<dataMultiplier;j++){dataIndexes.push.apply(dataIndexes,baseDataIndexes);}dataIndexes.unshift.apply(dataIndexes,_toConsumableArray(baseDataIndexes.slice(-remainder)));return dataIndexes[index];}else{return index+dataLength-loopClonesPerSide;}}else{return index-loopClonesPerSide;}}},{key:\"_getPositionIndex\",value:function _getPositionIndex(index){var _this$props7=this.props,loop=_this$props7.loop,loopClonesPerSide=_this$props7.loopClonesPerSide;return loop?index+loopClonesPerSide:index;}},{key:\"_getFirstItem\",value:function _getFirstItem(index){var props=arguments.length>1&&arguments[1]!==undefined?arguments[1]:this.props;var loopClonesPerSide=props.loopClonesPerSide;var itemsLength=this._getCustomDataLength(props);if(!itemsLength||index>itemsLength-1||index<0){return 0;}return this._enableLoop()?index+loopClonesPerSide:index;}},{key:\"_getWrappedRef\",value:function _getWrappedRef(){return this._carouselRef&&this._carouselRef.getNode&&this._carouselRef.getNode();}},{key:\"_getScrollEnabled\",value:function _getScrollEnabled(){return this._scrollEnabled;}},{key:\"_setScrollEnabled\",value:function _setScrollEnabled(){var scrollEnabled=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var wrappedRef=this._getWrappedRef();if(!wrappedRef||!wrappedRef.setNativeProps){return;}wrappedRef.setNativeProps({scrollEnabled:scrollEnabled});this._scrollEnabled=scrollEnabled;}},{key:\"_getKeyExtractor\",value:function _getKeyExtractor(item,index){return this._needsScrollView()?\"scrollview-item-\"+index:\"flatlist-item-\"+index;}},{key:\"_getScrollOffset\",value:function _getScrollOffset(event){var vertical=this.props.vertical;return event&&event.nativeEvent&&event.nativeEvent.contentOffset&&event.nativeEvent.contentOffset[vertical?'y':'x']||0;}},{key:\"_getContainerInnerMargin\",value:function _getContainerInnerMargin(){var opposite=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var _this$props8=this.props,sliderWidth=_this$props8.sliderWidth,sliderHeight=_this$props8.sliderHeight,itemWidth=_this$props8.itemWidth,itemHeight=_this$props8.itemHeight,vertical=_this$props8.vertical,activeSlideAlignment=_this$props8.activeSlideAlignment;if(activeSlideAlignment==='start'&&!opposite||activeSlideAlignment==='end'&&opposite){return 0;}else if(activeSlideAlignment==='end'&&!opposite||activeSlideAlignment==='start'&&opposite){return vertical?sliderHeight-itemHeight:sliderWidth-itemWidth;}else{return vertical?(sliderHeight-itemHeight)/2:(sliderWidth-itemWidth)/2;}}},{key:\"_getViewportOffset\",value:function _getViewportOffset(){var _this$props9=this.props,sliderWidth=_this$props9.sliderWidth,sliderHeight=_this$props9.sliderHeight,itemWidth=_this$props9.itemWidth,itemHeight=_this$props9.itemHeight,vertical=_this$props9.vertical,activeSlideAlignment=_this$props9.activeSlideAlignment;if(activeSlideAlignment==='start'){return vertical?itemHeight/2:itemWidth/2;}else if(activeSlideAlignment==='end'){return vertical?sliderHeight-itemHeight/2:sliderWidth-itemWidth/2;}else{return vertical?sliderHeight/2:sliderWidth/2;}}},{key:\"_getCenter\",value:function _getCenter(offset){return offset+this._getViewportOffset()-this._getContainerInnerMargin();}},{key:\"_getActiveItem\",value:function _getActiveItem(offset){var _this$props10=this.props,activeSlideOffset=_this$props10.activeSlideOffset,swipeThreshold=_this$props10.swipeThreshold;var center=this._getCenter(offset);var centerOffset=activeSlideOffset||swipeThreshold;for(var i=0;i<this._positions.length;i++){var _this$_positions$i=this._positions[i],start=_this$_positions$i.start,end=_this$_positions$i.end;if(center+centerOffset>=start&&center-centerOffset<=end){return i;}}var lastIndex=this._positions.length-1;if(this._positions[lastIndex]&&center-centerOffset>this._positions[lastIndex].end){return lastIndex;}return 0;}},{key:\"_initPositionsAndInterpolators\",value:function _initPositionsAndInterpolators(){var _this3=this;var props=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props;var data=props.data,itemWidth=props.itemWidth,itemHeight=props.itemHeight,scrollInterpolator=props.scrollInterpolator,vertical=props.vertical;var sizeRef=vertical?itemHeight:itemWidth;if(!data||!data.length){return;}var interpolators=[];this._positions=[];this._getCustomData(props).forEach(function(itemData,index){var _index=_this3._getCustomIndex(index,props);var animatedValue;_this3._positions[index]={start:index*sizeRef,end:index*sizeRef+sizeRef};if(!_this3._shouldAnimateSlides(props)){animatedValue=new Animated.Value(1);}else if(_this3._shouldUseCustomAnimation()){animatedValue=new Animated.Value(_index===_this3._activeItem?1:0);}else{var interpolator;if(scrollInterpolator){interpolator=scrollInterpolator(_index,props);}else if(_this3._shouldUseStackLayout()){interpolator=stackScrollInterpolator(_index,props);}else if(_this3._shouldUseTinderLayout()){interpolator=tinderScrollInterpolator(_index,props);}if(!interpolator||!interpolator.inputRange||!interpolator.outputRange){interpolator=defaultScrollInterpolator(_index,props);}animatedValue=_this3._scrollPos.interpolate(_objectSpread({},interpolator,{extrapolate:'clamp'}));}interpolators.push(animatedValue);});this.setState({interpolators:interpolators});}},{key:\"_getSlideAnimation\",value:function _getSlideAnimation(index,toValue){var interpolators=this.state.interpolators;var _this$props11=this.props,activeAnimationType=_this$props11.activeAnimationType,activeAnimationOptions=_this$props11.activeAnimationOptions;var animatedValue=interpolators&&interpolators[index];if(!animatedValue&&animatedValue!==0){return null;}var animationCommonOptions=_objectSpread({isInteraction:false,useNativeDriver:true},activeAnimationOptions,{toValue:toValue});return Animated.parallel([Animated['timing'](animatedValue,_objectSpread({},animationCommonOptions,{easing:Easing.linear})),Animated[activeAnimationType](animatedValue,_objectSpread({},animationCommonOptions))]);}},{key:\"_playCustomSlideAnimation\",value:function _playCustomSlideAnimation(current,next){var interpolators=this.state.interpolators;var itemsLength=this._getCustomDataLength();var _currentIndex=this._getCustomIndex(current);var _currentDataIndex=this._getDataIndex(_currentIndex);var _nextIndex=this._getCustomIndex(next);var _nextDataIndex=this._getDataIndex(_nextIndex);var animations=[];if(this._enableLoop()){for(var i=0;i<itemsLength;i++){if(this._getDataIndex(i)===_currentDataIndex&&interpolators[i]){animations.push(this._getSlideAnimation(i,0));}else if(this._getDataIndex(i)===_nextDataIndex&&interpolators[i]){animations.push(this._getSlideAnimation(i,1));}}}else{if(interpolators[current]){animations.push(this._getSlideAnimation(current,0));}if(interpolators[next]){animations.push(this._getSlideAnimation(next,1));}}Animated.parallel(animations,{stopTogether:false}).start();}},{key:\"_hackActiveSlideAnimation\",value:function _hackActiveSlideAnimation(index,goTo){var _this4=this;var force=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var data=this.props.data;if(!this._mounted||!this._carouselRef||!this._positions[index]||!force&&this._enableLoop()){return;}var offset=this._positions[index]&&this._positions[index].start;if(!offset&&offset!==0){return;}var itemsLength=data&&data.length;var direction=goTo||itemsLength===1?'start':'end';this._scrollTo(offset+(direction==='start'?-1:1),false);clearTimeout(this._hackSlideAnimationTimeout);this._hackSlideAnimationTimeout=setTimeout(function(){_this4._scrollTo(offset,false);},50);}},{key:\"_lockScroll\",value:function _lockScroll(){var _this5=this;var lockScrollTimeoutDuration=this.props.lockScrollTimeoutDuration;clearTimeout(this._lockScrollTimeout);this._lockScrollTimeout=setTimeout(function(){_this5._releaseScroll();},lockScrollTimeoutDuration);this._setScrollEnabled(false);}},{key:\"_releaseScroll\",value:function _releaseScroll(){clearTimeout(this._lockScrollTimeout);this._setScrollEnabled(true);}},{key:\"_repositionScroll\",value:function _repositionScroll(index){var _this$props12=this.props,data=_this$props12.data,loopClonesPerSide=_this$props12.loopClonesPerSide;var dataLength=data&&data.length;if(!this._enableLoop()||!dataLength||index>=loopClonesPerSide&&index<dataLength+loopClonesPerSide){return;}var repositionTo=index;if(index>=dataLength+loopClonesPerSide){repositionTo=index-dataLength;}else if(index<loopClonesPerSide){repositionTo=index+dataLength;}this._snapToItem(repositionTo,false,false,false,false);}},{key:\"_scrollTo\",value:function _scrollTo(offset){var animated=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var vertical=this.props.vertical;var wrappedRef=this._getWrappedRef();if(!this._mounted||!wrappedRef){return;}var specificOptions=this._needsScrollView()?{x:vertical?0:offset,y:vertical?offset:0}:{offset:offset};var options=_objectSpread({},specificOptions,{animated:animated});if(this._needsScrollView()){wrappedRef.scrollTo(options);}else{wrappedRef.scrollToOffset(options);}}},{key:\"_onScroll\",value:function _onScroll(event){var _this$props13=this.props,callbackOffsetMargin=_this$props13.callbackOffsetMargin,enableMomentum=_this$props13.enableMomentum,onScroll=_this$props13.onScroll;var scrollOffset=event?this._getScrollOffset(event):this._currentContentOffset;var nextActiveItem=this._getActiveItem(scrollOffset);var itemReached=nextActiveItem===this._itemToSnapTo;var scrollConditions=scrollOffset>=this._scrollOffsetRef-callbackOffsetMargin&&scrollOffset<=this._scrollOffsetRef+callbackOffsetMargin;this._currentContentOffset=scrollOffset;this._onScrollTriggered=true;this._lastScrollDate=Date.now();if(this._activeItem!==nextActiveItem&&this._shouldUseCustomAnimation()){this._playCustomSlideAnimation(this._activeItem,nextActiveItem);}if(enableMomentum){clearTimeout(this._snapNoMomentumTimeout);if(this._activeItem!==nextActiveItem){this._activeItem=nextActiveItem;}if(itemReached){if(this._canFireBeforeCallback){this._onBeforeSnap(this._getDataIndex(nextActiveItem));}if(scrollConditions&&this._canFireCallback){this._onSnap(this._getDataIndex(nextActiveItem));}}}else if(this._activeItem!==nextActiveItem&&itemReached){if(this._canFireBeforeCallback){this._onBeforeSnap(this._getDataIndex(nextActiveItem));}if(scrollConditions){this._activeItem=nextActiveItem;if(this._canLockScroll()){this._releaseScroll();}if(this._canFireCallback){this._onSnap(this._getDataIndex(nextActiveItem));}}}if(nextActiveItem===this._itemToSnapTo&&scrollOffset===this._scrollOffsetRef){this._repositionScroll(nextActiveItem);}if(typeof onScroll===\"function\"&&event){onScroll(event);}}},{key:\"_onStartShouldSetResponderCapture\",value:function _onStartShouldSetResponderCapture(event){var onStartShouldSetResponderCapture=this.props.onStartShouldSetResponderCapture;if(onStartShouldSetResponderCapture){onStartShouldSetResponderCapture(event);}return this._getScrollEnabled();}},{key:\"_onTouchStart\",value:function _onTouchStart(){var onTouchStart=this.props.onTouchStart;if(this._getScrollEnabled()!==false&&this._autoplaying){this.pauseAutoPlay();}if(onTouchStart){onTouchStart();}}},{key:\"_onTouchEnd\",value:function _onTouchEnd(){var onTouchEnd=this.props.onTouchEnd;if(this._getScrollEnabled()!==false&&this._autoplay&&!this._autoplaying){this.startAutoplay();}if(onTouchEnd){onTouchEnd();}}},{key:\"_onScrollBeginDrag\",value:function _onScrollBeginDrag(event){var onScrollBeginDrag=this.props.onScrollBeginDrag;if(!this._getScrollEnabled()){return;}this._scrollStartOffset=this._getScrollOffset(event);this._scrollStartActive=this._getActiveItem(this._scrollStartOffset);this._ignoreNextMomentum=false;if(onScrollBeginDrag){onScrollBeginDrag(event);}}},{key:\"_onScrollEndDrag\",value:function _onScrollEndDrag(event){var onScrollEndDrag=this.props.onScrollEndDrag;if(this._carouselRef){this._onScrollEnd&&this._onScrollEnd();}if(onScrollEndDrag){onScrollEndDrag(event);}}},{key:\"_onMomentumScrollEnd\",value:function _onMomentumScrollEnd(event){var onMomentumScrollEnd=this.props.onMomentumScrollEnd;if(this._carouselRef){this._onScrollEnd&&this._onScrollEnd();}if(onMomentumScrollEnd){onMomentumScrollEnd(event);}}},{key:\"_onScrollEnd\",value:function _onScrollEnd(event){var _this6=this;var _this$props14=this.props,autoplayDelay=_this$props14.autoplayDelay,enableSnap=_this$props14.enableSnap;if(this._ignoreNextMomentum){this._ignoreNextMomentum=false;return;}if(this._currentContentOffset===this._scrollEndOffset){return;}this._scrollEndOffset=this._currentContentOffset;this._scrollEndActive=this._getActiveItem(this._scrollEndOffset);if(enableSnap){this._snapScroll(this._scrollEndOffset-this._scrollStartOffset);}if(this._autoplay&&!this._autoplaying){clearTimeout(this._enableAutoplayTimeout);this._enableAutoplayTimeout=setTimeout(function(){_this6.startAutoplay();},autoplayDelay+50);}}},{key:\"_onTouchRelease\",value:function _onTouchRelease(event){var _this7=this;var enableMomentum=this.props.enableMomentum;if(enableMomentum&&IS_IOS){clearTimeout(this._snapNoMomentumTimeout);this._snapNoMomentumTimeout=setTimeout(function(){_this7._snapToItem(_this7._activeItem);},100);}}},{key:\"_onLayout\",value:function _onLayout(event){var onLayout=this.props.onLayout;if(this._onLayoutInitDone){this._initPositionsAndInterpolators();this._snapToItem(this._activeItem,false,false,false,false);}else{this._onLayoutInitDone=true;}if(onLayout){onLayout(event);}}},{key:\"_snapScroll\",value:function _snapScroll(delta){var swipeThreshold=this.props.swipeThreshold;if(!this._scrollEndActive&&this._scrollEndActive!==0&&IS_IOS){this._scrollEndActive=this._scrollStartActive;}if(this._scrollStartActive!==this._scrollEndActive){this._snapToItem(this._scrollEndActive);}else{if(delta>0){if(delta>swipeThreshold){this._snapToItem(this._scrollStartActive+1);}else{this._snapToItem(this._scrollEndActive);}}else if(delta<0){if(delta<-swipeThreshold){this._snapToItem(this._scrollStartActive-1);}else{this._snapToItem(this._scrollEndActive);}}else{this._snapToItem(this._scrollEndActive);}}}},{key:\"_snapToItem\",value:function _snapToItem(index){var _this8=this;var animated=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var fireCallback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var initial=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var lockScroll=arguments.length>4&&arguments[4]!==undefined?arguments[4]:true;var _this$props15=this.props,enableMomentum=_this$props15.enableMomentum,onSnapToItem=_this$props15.onSnapToItem,onBeforeSnapToItem=_this$props15.onBeforeSnapToItem;var itemsLength=this._getCustomDataLength();var wrappedRef=this._getWrappedRef();if(!itemsLength||!wrappedRef){return;}if(!index||index<0){index=0;}else if(itemsLength>0&&index>=itemsLength){index=itemsLength-1;}if(index!==this._previousActiveItem){this._previousActiveItem=index;if(lockScroll&&this._canLockScroll()){this._lockScroll();}if(fireCallback){if(onBeforeSnapToItem){this._canFireBeforeCallback=true;}if(onSnapToItem){this._canFireCallback=true;}}}this._itemToSnapTo=index;this._scrollOffsetRef=this._positions[index]&&this._positions[index].start;this._onScrollTriggered=false;if(!this._scrollOffsetRef&&this._scrollOffsetRef!==0){return;}this._scrollTo(this._scrollOffsetRef,animated);this._scrollEndOffset=this._currentContentOffset;if(enableMomentum){if(!initial){this._ignoreNextMomentum=true;}if(index===0||index===itemsLength-1){clearTimeout(this._edgeItemTimeout);this._edgeItemTimeout=setTimeout(function(){if(!initial&&index===_this8._activeItem&&!_this8._onScrollTriggered){_this8._onScroll();}},250);}}}},{key:\"_onBeforeSnap\",value:function _onBeforeSnap(index){var onBeforeSnapToItem=this.props.onBeforeSnapToItem;if(!this._carouselRef){return;}this._canFireBeforeCallback=false;onBeforeSnapToItem&&onBeforeSnapToItem(index);}},{key:\"_onSnap\",value:function _onSnap(index){var onSnapToItem=this.props.onSnapToItem;if(!this._carouselRef){return;}this._canFireCallback=false;onSnapToItem&&onSnapToItem(index);}},{key:\"startAutoplay\",value:function startAutoplay(){var _this9=this;var _this$props16=this.props,autoplayInterval=_this$props16.autoplayInterval,autoplayDelay=_this$props16.autoplayDelay;this._autoplay=true;if(this._autoplaying){return;}clearTimeout(this._autoplayTimeout);this._autoplayTimeout=setTimeout(function(){_this9._autoplaying=true;_this9._autoplayInterval=setInterval(function(){if(_this9._autoplaying){_this9.snapToNext();}},autoplayInterval);},autoplayDelay);}},{key:\"pauseAutoPlay\",value:function pauseAutoPlay(){this._autoplaying=false;clearTimeout(this._autoplayTimeout);clearTimeout(this._enableAutoplayTimeout);clearInterval(this._autoplayInterval);}},{key:\"stopAutoplay\",value:function stopAutoplay(){this._autoplay=false;this.pauseAutoPlay();}},{key:\"snapToItem\",value:function snapToItem(index){var animated=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var fireCallback=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!index||index<0){index=0;}var positionIndex=this._getPositionIndex(index);if(positionIndex===this._activeItem){return;}this._snapToItem(positionIndex,animated,fireCallback);}},{key:\"snapToNext\",value:function snapToNext(){var animated=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var fireCallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var itemsLength=this._getCustomDataLength();var newIndex=this._activeItem+1;if(newIndex>itemsLength-1){if(!this._enableLoop()){return;}newIndex=0;}this._snapToItem(newIndex,animated,fireCallback);}},{key:\"snapToPrev\",value:function snapToPrev(){var animated=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var fireCallback=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var itemsLength=this._getCustomDataLength();var newIndex=this._activeItem-1;if(newIndex<0){if(!this._enableLoop()){return;}newIndex=itemsLength-1;}this._snapToItem(newIndex,animated,fireCallback);}},{key:\"triggerRenderingHack\",value:function triggerRenderingHack(offset){if(Date.now()-this._lastScrollDate<500){return;}var scrollPosition=this._currentContentOffset;if(!scrollPosition&&scrollPosition!==0){return;}var scrollOffset=offset||(scrollPosition===0?1:-1);this._scrollTo(scrollPosition+scrollOffset,false);}},{key:\"_getSlideInterpolatedStyle\",value:function _getSlideInterpolatedStyle(index,animatedValue){var _this$props17=this.props,layoutCardOffset=_this$props17.layoutCardOffset,slideInterpolatedStyle=_this$props17.slideInterpolatedStyle;if(slideInterpolatedStyle){return slideInterpolatedStyle(index,animatedValue,this.props);}else if(this._shouldUseTinderLayout()){return tinderAnimatedStyles(index,animatedValue,this.props,layoutCardOffset);}else if(this._shouldUseStackLayout()){return stackAnimatedStyles(index,animatedValue,this.props,layoutCardOffset);}else if(this._shouldUseShiftLayout()){return shiftAnimatedStyles(index,animatedValue,this.props);}else{return defaultAnimatedStyles(index,animatedValue,this.props);}}},{key:\"_renderItem\",value:function _renderItem(_ref){var item=_ref.item,index=_ref.index;var interpolators=this.state.interpolators;var _this$props18=this.props,hasParallaxImages=_this$props18.hasParallaxImages,itemWidth=_this$props18.itemWidth,itemHeight=_this$props18.itemHeight,keyExtractor=_this$props18.keyExtractor,renderItem=_this$props18.renderItem,sliderHeight=_this$props18.sliderHeight,sliderWidth=_this$props18.sliderWidth,slideStyle=_this$props18.slideStyle,vertical=_this$props18.vertical;var animatedValue=interpolators&&interpolators[index];if(!animatedValue&&animatedValue!==0){return null;}var animate=this._shouldAnimateSlides();var Component=animate?Animated.View:View;var animatedStyle=animate?this._getSlideInterpolatedStyle(index,animatedValue):{};var parallaxProps=hasParallaxImages?{scrollPosition:this._scrollPos,carouselRef:this._carouselRef,vertical:vertical,sliderWidth:sliderWidth,sliderHeight:sliderHeight,itemWidth:itemWidth,itemHeight:itemHeight}:undefined;var mainDimension=vertical?{height:itemHeight}:{width:itemWidth};var specificProps=this._needsScrollView()?{key:keyExtractor?keyExtractor(item,index):this._getKeyExtractor(item,index)}:{};return React.createElement(Component,_extends({style:[mainDimension,slideStyle,animatedStyle],pointerEvents:'box-none'},specificProps),renderItem({item:item,index:index},parallaxProps));}},{key:\"_getComponentOverridableProps\",value:function _getComponentOverridableProps(){var _this$props19=this.props,enableMomentum=_this$props19.enableMomentum,itemWidth=_this$props19.itemWidth,itemHeight=_this$props19.itemHeight,loopClonesPerSide=_this$props19.loopClonesPerSide,sliderWidth=_this$props19.sliderWidth,sliderHeight=_this$props19.sliderHeight,vertical=_this$props19.vertical;var visibleItems=Math.ceil(vertical?sliderHeight/itemHeight:sliderWidth/itemWidth)+1;var initialNumPerSide=this._enableLoop()?loopClonesPerSide:2;var initialNumToRender=visibleItems+initialNumPerSide*2;var maxToRenderPerBatch=1+initialNumToRender*2;var windowSize=maxToRenderPerBatch;var specificProps=!this._needsScrollView()?{initialNumToRender:initialNumToRender,maxToRenderPerBatch:maxToRenderPerBatch,windowSize:windowSize}:{};return _objectSpread({decelerationRate:enableMomentum?0.9:'fast',showsHorizontalScrollIndicator:false,showsVerticalScrollIndicator:false,overScrollMode:'never',automaticallyAdjustContentInsets:false,directionalLockEnabled:true,pinchGestureEnabled:false,scrollsToTop:false,removeClippedSubviews:!this._needsScrollView(),inverted:this._needsRTLAdaptations()},specificProps);}},{key:\"_getComponentStaticProps\",value:function _getComponentStaticProps(){var _this10=this;var hideCarousel=this.state.hideCarousel;var _this$props20=this.props,containerCustomStyle=_this$props20.containerCustomStyle,contentContainerCustomStyle=_this$props20.contentContainerCustomStyle,keyExtractor=_this$props20.keyExtractor,sliderWidth=_this$props20.sliderWidth,sliderHeight=_this$props20.sliderHeight,style=_this$props20.style,vertical=_this$props20.vertical;var containerStyle=[containerCustomStyle||style||{},hideCarousel?{opacity:0}:{},vertical?{height:sliderHeight,flexDirection:'column'}:{width:sliderWidth,flexDirection:this._needsRTLAdaptations()?'row-reverse':'row'}];var contentContainerStyle=[vertical?{paddingTop:this._getContainerInnerMargin(),paddingBottom:this._getContainerInnerMargin(true)}:{paddingLeft:this._getContainerInnerMargin(),paddingRight:this._getContainerInnerMargin(true)},contentContainerCustomStyle||{}];var specificProps=!this._needsScrollView()?{renderItem:this._renderItem,numColumns:1,keyExtractor:keyExtractor||this._getKeyExtractor}:{};return _objectSpread({ref:function ref(c){return _this10._carouselRef=c;},data:this._getCustomData(),style:containerStyle,contentContainerStyle:contentContainerStyle,horizontal:!vertical,scrollEventThrottle:1,onScroll:this._onScrollHandler,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollEnd:this._onMomentumScrollEnd,onResponderRelease:this._onTouchRelease,onStartShouldSetResponderCapture:this._onStartShouldSetResponderCapture,onTouchStart:this._onTouchStart,onTouchEnd:this._onScrollEnd,onLayout:this._onLayout},specificProps);}},{key:\"render\",value:function render(){var _this11=this;var _this$props21=this.props,data=_this$props21.data,renderItem=_this$props21.renderItem,useScrollView=_this$props21.useScrollView;if(!data||!renderItem){return null;}var props=_objectSpread({},this._getComponentOverridableProps(),{},this.props,{},this._getComponentStaticProps());var ScrollViewComponent=typeof useScrollView==='function'?useScrollView:AnimatedScrollView;return this._needsScrollView()?React.createElement(ScrollViewComponent,props,this._getCustomData().map(function(item,index){return _this11._renderItem({item:item,index:index});})):React.createElement(AnimatedFlatList,props);}},{key:\"realIndex\",get:function get(){return this._activeItem;}},{key:\"currentIndex\",get:function get(){return this._getDataIndex(this._activeItem);}},{key:\"currentScrollPosition\",get:function get(){return this._currentContentOffset;}}]);return Carousel;}(Component);Carousel.propTypes={data:PropTypes.array.isRequired,renderItem:PropTypes.func.isRequired,itemWidth:PropTypes.number,itemHeight:PropTypes.number,sliderWidth:PropTypes.number,sliderHeight:PropTypes.number,activeAnimationType:PropTypes.string,activeAnimationOptions:PropTypes.object,activeSlideAlignment:PropTypes.oneOf(['center','end','start']),activeSlideOffset:PropTypes.number,apparitionDelay:PropTypes.number,autoplay:PropTypes.bool,autoplayDelay:PropTypes.number,autoplayInterval:PropTypes.number,callbackOffsetMargin:PropTypes.number,containerCustomStyle:ViewPropTypes?ViewPropTypes.style:View.propTypes.style,contentContainerCustomStyle:ViewPropTypes?ViewPropTypes.style:View.propTypes.style,enableMomentum:PropTypes.bool,enableSnap:PropTypes.bool,firstItem:PropTypes.number,hasParallaxImages:PropTypes.bool,inactiveSlideOpacity:PropTypes.number,inactiveSlideScale:PropTypes.number,inactiveSlideShift:PropTypes.number,layout:PropTypes.oneOf(['default','stack','tinder']),layoutCardOffset:PropTypes.number,lockScrollTimeoutDuration:PropTypes.number,lockScrollWhileSnapping:PropTypes.bool,loop:PropTypes.bool,loopClonesPerSide:PropTypes.number,scrollEnabled:PropTypes.bool,scrollInterpolator:PropTypes.func,slideInterpolatedStyle:PropTypes.func,slideStyle:ViewPropTypes?ViewPropTypes.style:View.propTypes.style,shouldOptimizeUpdates:PropTypes.bool,swipeThreshold:PropTypes.number,useScrollView:PropTypes.oneOfType([PropTypes.bool,PropTypes.func]),vertical:PropTypes.bool,onBeforeSnapToItem:PropTypes.func,onSnapToItem:PropTypes.func};Carousel.defaultProps={activeAnimationType:'timing',activeAnimationOptions:null,activeSlideAlignment:'center',activeSlideOffset:20,apparitionDelay:0,autoplay:false,autoplayDelay:1000,autoplayInterval:3000,callbackOffsetMargin:5,containerCustomStyle:{},contentContainerCustomStyle:{},enableMomentum:false,enableSnap:true,firstItem:0,hasParallaxImages:false,inactiveSlideOpacity:0.7,inactiveSlideScale:0.9,inactiveSlideShift:0,layout:'default',lockScrollTimeoutDuration:1000,lockScrollWhileSnapping:false,loop:false,loopClonesPerSide:3,scrollEnabled:true,slideStyle:{},shouldOptimizeUpdates:true,swipeThreshold:20,useScrollView:!AnimatedFlatList,vertical:false};export{Carousel as default};","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/node_modules/react-native-snap-carousel/src/carousel/Carousel.js"],"names":["React","Component","PropTypes","shallowCompare","defaultScrollInterpolator","stackScrollInterpolator","tinderScrollInterpolator","defaultAnimatedStyles","shiftAnimatedStyles","stackAnimatedStyles","tinderAnimatedStyles","IS_IOS","Platform","OS","AnimatedFlatList","FlatList","Animated","createAnimatedComponent","AnimatedScrollView","ScrollView","IS_RTL","I18nManager","isRTL","Carousel","props","state","hideCarousel","interpolators","initialActiveItem","_getFirstItem","firstItem","_activeItem","_previousActiveItem","_previousFirstItem","_previousItemsLength","_mounted","_positions","_currentContentOffset","_canFireBeforeCallback","_canFireCallback","_scrollOffsetRef","_onScrollTriggered","_lastScrollDate","_scrollEnabled","scrollEnabled","_initPositionsAndInterpolators","bind","_renderItem","_onSnap","_onLayout","_onScroll","_onScrollBeginDrag","enableSnap","undefined","_onScrollEnd","autoplay","_onScrollEndDrag","enableMomentum","_onMomentumScrollEnd","_onTouchStart","_onTouchEnd","_onTouchRelease","_getKeyExtractor","_setScrollHandler","_ignoreNextMomentum","ViewPropTypes","console","warn","vertical","sliderWidth","itemWidth","error","sliderHeight","itemHeight","apparitionDelay","useScrollView","customAnimationType","customAnimationOptions","onScrollViewScroll","_firstItem","apparitionCallback","setState","startAutoplay","requestAnimationFrame","_snapToItem","_hackActiveSlideAnimation","_apparitionTimeout","setTimeout","nextProps","nextState","shouldOptimizeUpdates","prevProps","itemsLength","_getCustomDataLength","nextFirstItem","nextActiveItem","hasNewSliderWidth","hasNewSliderHeight","hasNewItemWidth","hasNewItemHeight","hasNewScrollEnabled","_setScrollEnabled","length","onScroll","stopAutoplay","clearTimeout","_hackSlideAnimationTimeout","_enableAutoplayTimeout","_autoplayTimeout","_snapNoMomentumTimeout","_edgeItemTimeout","_lockScrollTimeout","scrollEventConfig","listener","useNativeDriver","_scrollPos","Value","argMapping","nativeEvent","contentOffset","y","x","Array","isArray","_argMapping","pop","argMap","push","_onScrollHandler","event","_shouldUseStackLayout","_shouldUseTinderLayout","lockScrollWhileSnapping","data","loop","inactiveSlideOpacity","inactiveSlideScale","scrollInterpolator","slideInterpolatedStyle","_shouldUseShiftLayout","activeAnimationOptions","inactiveSlideShift","layout","loopClonesPerSide","dataLength","_enableLoop","previousItems","nextItems","dataMultiplier","Math","floor","remainder","i","unshift","slice","concat","index","_needsRTLAdaptations","baseDataIndexes","dataIndexes","j","_carouselRef","getNode","wrappedRef","_getWrappedRef","setNativeProps","item","_needsScrollView","opposite","activeSlideAlignment","offset","_getViewportOffset","_getContainerInnerMargin","activeSlideOffset","swipeThreshold","center","_getCenter","centerOffset","start","end","lastIndex","sizeRef","_getCustomData","forEach","itemData","_index","_getCustomIndex","animatedValue","_shouldAnimateSlides","_shouldUseCustomAnimation","interpolator","inputRange","outputRange","interpolate","extrapolate","toValue","activeAnimationType","animationCommonOptions","isInteraction","parallel","easing","Easing","linear","current","next","_currentIndex","_currentDataIndex","_getDataIndex","_nextIndex","_nextDataIndex","animations","_getSlideAnimation","stopTogether","goTo","force","direction","_scrollTo","lockScrollTimeoutDuration","_releaseScroll","repositionTo","animated","specificOptions","options","scrollTo","scrollToOffset","callbackOffsetMargin","scrollOffset","_getScrollOffset","_getActiveItem","itemReached","_itemToSnapTo","scrollConditions","Date","now","_playCustomSlideAnimation","_onBeforeSnap","_canLockScroll","_repositionScroll","onStartShouldSetResponderCapture","_getScrollEnabled","onTouchStart","_autoplaying","pauseAutoPlay","onTouchEnd","_autoplay","onScrollBeginDrag","_scrollStartOffset","_scrollStartActive","onScrollEndDrag","onMomentumScrollEnd","autoplayDelay","_scrollEndOffset","_scrollEndActive","_snapScroll","onLayout","_onLayoutInitDone","delta","fireCallback","initial","lockScroll","onSnapToItem","onBeforeSnapToItem","_lockScroll","autoplayInterval","_autoplayInterval","setInterval","snapToNext","clearInterval","positionIndex","_getPositionIndex","newIndex","scrollPosition","layoutCardOffset","hasParallaxImages","keyExtractor","renderItem","slideStyle","animate","View","animatedStyle","_getSlideInterpolatedStyle","parallaxProps","carouselRef","mainDimension","height","width","specificProps","key","visibleItems","ceil","initialNumPerSide","initialNumToRender","maxToRenderPerBatch","windowSize","decelerationRate","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","overScrollMode","automaticallyAdjustContentInsets","directionalLockEnabled","pinchGestureEnabled","scrollsToTop","removeClippedSubviews","inverted","containerCustomStyle","contentContainerCustomStyle","style","containerStyle","opacity","flexDirection","contentContainerStyle","paddingTop","paddingBottom","paddingLeft","paddingRight","numColumns","ref","c","horizontal","scrollEventThrottle","onResponderRelease","_onStartShouldSetResponderCapture","_getComponentOverridableProps","_getComponentStaticProps","ScrollViewComponent","map","propTypes","array","isRequired","func","number","string","object","oneOf","bool","oneOfType","defaultProps"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport { Animated, Easing, FlatList, I18nManager, Platform, ScrollView, View, ViewPropTypes } from 'react-native';\nimport PropTypes from 'prop-types';\nimport shallowCompare from 'react-addons-shallow-compare';\nimport {\n    defaultScrollInterpolator,\n    stackScrollInterpolator,\n    tinderScrollInterpolator,\n    defaultAnimatedStyles,\n    shiftAnimatedStyles,\n    stackAnimatedStyles,\n    tinderAnimatedStyles\n} from '../utils/animations';\n\nconst IS_IOS = Platform.OS === 'ios';\n\n// Native driver for scroll events\n// See: https://facebook.github.io/react-native/blog/2017/02/14/using-native-driver-for-animated.html\nconst AnimatedFlatList = FlatList ? Animated.createAnimatedComponent(FlatList) : null;\nconst AnimatedScrollView = Animated.createAnimatedComponent(ScrollView);\n\n// React Native automatically handles RTL layouts; unfortunately, it's buggy with horizontal ScrollView\n// See https://github.com/facebook/react-native/issues/11960\n// NOTE: the following variable is not declared in the constructor\n// otherwise it is undefined at init, which messes with custom indexes\nconst IS_RTL = I18nManager.isRTL;\n\nexport default class Carousel extends Component {\n\n    static propTypes = {\n        data: PropTypes.array.isRequired,\n        renderItem: PropTypes.func.isRequired,\n        itemWidth: PropTypes.number, // required for horizontal carousel\n        itemHeight: PropTypes.number, // required for vertical carousel\n        sliderWidth: PropTypes.number, // required for horizontal carousel\n        sliderHeight: PropTypes.number, // required for vertical carousel\n        activeAnimationType: PropTypes.string,\n        activeAnimationOptions: PropTypes.object,\n        activeSlideAlignment: PropTypes.oneOf(['center', 'end', 'start']),\n        activeSlideOffset: PropTypes.number,\n        apparitionDelay: PropTypes.number,\n        autoplay: PropTypes.bool,\n        autoplayDelay: PropTypes.number,\n        autoplayInterval: PropTypes.number,\n        callbackOffsetMargin: PropTypes.number,\n        containerCustomStyle: ViewPropTypes ? ViewPropTypes.style : View.propTypes.style,\n        contentContainerCustomStyle: ViewPropTypes ? ViewPropTypes.style : View.propTypes.style,\n        enableMomentum: PropTypes.bool,\n        enableSnap: PropTypes.bool,\n        firstItem: PropTypes.number,\n        hasParallaxImages: PropTypes.bool,\n        inactiveSlideOpacity: PropTypes.number,\n        inactiveSlideScale: PropTypes.number,\n        inactiveSlideShift: PropTypes.number,\n        layout: PropTypes.oneOf(['default', 'stack', 'tinder']),\n        layoutCardOffset: PropTypes.number,\n        lockScrollTimeoutDuration: PropTypes.number,\n        lockScrollWhileSnapping: PropTypes.bool,\n        loop: PropTypes.bool,\n        loopClonesPerSide: PropTypes.number,\n        scrollEnabled: PropTypes.bool,\n        scrollInterpolator: PropTypes.func,\n        slideInterpolatedStyle: PropTypes.func,\n        slideStyle: ViewPropTypes ? ViewPropTypes.style : View.propTypes.style,\n        shouldOptimizeUpdates: PropTypes.bool,\n        swipeThreshold: PropTypes.number,\n        useScrollView: PropTypes.oneOfType([PropTypes.bool, PropTypes.func]),\n        vertical: PropTypes.bool,\n        onBeforeSnapToItem: PropTypes.func,\n        onSnapToItem: PropTypes.func\n    };\n\n    static defaultProps = {\n        activeAnimationType: 'timing',\n        activeAnimationOptions: null,\n        activeSlideAlignment: 'center',\n        activeSlideOffset: 20,\n        apparitionDelay: 0,\n        autoplay: false,\n        autoplayDelay: 1000,\n        autoplayInterval: 3000,\n        callbackOffsetMargin: 5,\n        containerCustomStyle: {},\n        contentContainerCustomStyle: {},\n        enableMomentum: false,\n        enableSnap: true,\n        firstItem: 0,\n        hasParallaxImages: false,\n        inactiveSlideOpacity: 0.7,\n        inactiveSlideScale: 0.9,\n        inactiveSlideShift: 0,\n        layout: 'default',\n        lockScrollTimeoutDuration: 1000,\n        lockScrollWhileSnapping: false,\n        loop: false,\n        loopClonesPerSide: 3,\n        scrollEnabled: true,\n        slideStyle: {},\n        shouldOptimizeUpdates: true,\n        swipeThreshold: 20,\n        useScrollView: !AnimatedFlatList,\n        vertical: false\n    }\n\n    constructor (props) {\n        super(props);\n\n        this.state = {\n            hideCarousel: true,\n            interpolators: []\n        };\n\n        // The following values are not stored in the state because 'setState()' is asynchronous\n        // and this results in an absolutely crappy behavior on Android while swiping (see #156)\n        const initialActiveItem = this._getFirstItem(props.firstItem);\n        this._activeItem = initialActiveItem;\n        this._previousActiveItem = initialActiveItem;\n        this._previousFirstItem = initialActiveItem;\n        this._previousItemsLength = initialActiveItem;\n\n        this._mounted = false;\n        this._positions = [];\n        this._currentContentOffset = 0; // store ScrollView's scroll position\n        this._canFireBeforeCallback = false;\n        this._canFireCallback = false;\n        this._scrollOffsetRef = null;\n        this._onScrollTriggered = true; // used when momentum is enabled to prevent an issue with edges items\n        this._lastScrollDate = 0; // used to work around a FlatList bug\n        this._scrollEnabled = props.scrollEnabled !== false;\n\n        this._initPositionsAndInterpolators = this._initPositionsAndInterpolators.bind(this);\n        this._renderItem = this._renderItem.bind(this);\n        this._onSnap = this._onSnap.bind(this);\n\n        this._onLayout = this._onLayout.bind(this);\n        this._onScroll = this._onScroll.bind(this);\n        this._onScrollBeginDrag = props.enableSnap ? this._onScrollBeginDrag.bind(this) : undefined;\n        this._onScrollEnd = props.enableSnap || props.autoplay ? this._onScrollEnd.bind(this) : undefined;\n        this._onScrollEndDrag = !props.enableMomentum ? this._onScrollEndDrag.bind(this) : undefined;\n        this._onMomentumScrollEnd = props.enableMomentum ? this._onMomentumScrollEnd.bind(this) : undefined;\n        this._onTouchStart = this._onTouchStart.bind(this);\n        this._onTouchEnd = this._onTouchEnd.bind(this);\n        this._onTouchRelease = this._onTouchRelease.bind(this);\n\n        this._getKeyExtractor = this._getKeyExtractor.bind(this);\n\n        this._setScrollHandler(props);\n\n        // This bool aims at fixing an iOS bug due to scrollTo that triggers onMomentumScrollEnd.\n        // onMomentumScrollEnd fires this._snapScroll, thus creating an infinite loop.\n        this._ignoreNextMomentum = false;\n\n        // Warnings\n        if (!ViewPropTypes) {\n            console.warn('react-native-snap-carousel: It is recommended to use at least version 0.44 of React Native with the plugin');\n        }\n        if (!props.vertical && (!props.sliderWidth || !props.itemWidth)) {\n            console.error('react-native-snap-carousel: You need to specify both `sliderWidth` and `itemWidth` for horizontal carousels');\n        }\n        if (props.vertical && (!props.sliderHeight || !props.itemHeight)) {\n            console.error('react-native-snap-carousel: You need to specify both `sliderHeight` and `itemHeight` for vertical carousels');\n        }\n        if (props.apparitionDelay && !IS_IOS && !props.useScrollView) {\n            console.warn('react-native-snap-carousel: Using `apparitionDelay` on Android is not recommended since it can lead to rendering issues');\n        }\n        if (props.customAnimationType || props.customAnimationOptions) {\n            console.warn('react-native-snap-carousel: Props `customAnimationType` and `customAnimationOptions` have been renamed to `activeAnimationType` and `activeAnimationOptions`');\n        }\n        if (props.onScrollViewScroll) {\n            console.error('react-native-snap-carousel: Prop `onScrollViewScroll` has been removed. Use `onScroll` instead');\n        }\n    }\n\n    componentDidMount () {\n        const { apparitionDelay, autoplay, firstItem } = this.props;\n        const _firstItem = this._getFirstItem(firstItem);\n        const apparitionCallback = () => {\n            this.setState({ hideCarousel: false });\n            if (autoplay) {\n                this.startAutoplay();\n            }\n        };\n\n        this._mounted = true;\n        this._initPositionsAndInterpolators();\n\n        // Without 'requestAnimationFrame' or a `0` timeout, images will randomly not be rendered on Android...\n        requestAnimationFrame(() => {\n            if (!this._mounted) {\n                return;\n            }\n\n            this._snapToItem(_firstItem, false, false, true, false);\n            this._hackActiveSlideAnimation(_firstItem, 'start', true);\n\n            if (apparitionDelay) {\n                this._apparitionTimeout = setTimeout(() => {\n                    apparitionCallback();\n                }, apparitionDelay);\n            } else {\n                apparitionCallback();\n            }\n        });\n    }\n\n    shouldComponentUpdate (nextProps, nextState) {\n        if (this.props.shouldOptimizeUpdates === false) {\n            return true;\n        } else {\n            return shallowCompare(this, nextProps, nextState);\n        }\n    }\n\n    componentDidUpdate (prevProps) {\n        const { interpolators } = this.state;\n        const { firstItem, itemHeight, itemWidth, scrollEnabled, sliderHeight, sliderWidth } = this.props;\n        const itemsLength = this._getCustomDataLength(this.props);\n\n        if (!itemsLength) {\n            return;\n        }\n\n        const nextFirstItem = this._getFirstItem(firstItem, this.props);\n        let nextActiveItem = this._activeItem || this._activeItem === 0 ? this._activeItem : nextFirstItem;\n\n        const hasNewSliderWidth = sliderWidth && sliderWidth !== prevProps.sliderWidth;\n        const hasNewSliderHeight = sliderHeight && sliderHeight !== prevProps.sliderHeight;\n        const hasNewItemWidth = itemWidth && itemWidth !== prevProps.itemWidth;\n        const hasNewItemHeight = itemHeight && itemHeight !== prevProps.itemHeight;\n        const hasNewScrollEnabled = scrollEnabled !== prevProps.scrollEnabled;\n\n        // Prevent issues with dynamically removed items\n        if (nextActiveItem > itemsLength - 1) {\n            nextActiveItem = itemsLength - 1;\n        }\n\n        // Handle changing scrollEnabled independent of user -> carousel interaction\n        if (hasNewScrollEnabled) {\n            this._setScrollEnabled(scrollEnabled);\n        }\n\n        if (interpolators.length !== itemsLength || hasNewSliderWidth ||\n            hasNewSliderHeight || hasNewItemWidth || hasNewItemHeight) {\n            this._activeItem = nextActiveItem;\n            this._previousItemsLength = itemsLength;\n\n            this._initPositionsAndInterpolators(this.props);\n\n            // Handle scroll issue when dynamically removing items (see #133)\n            // This also fixes first item's active state on Android\n            // Because 'initialScrollIndex' apparently doesn't trigger scroll\n            if (this._previousItemsLength > itemsLength) {\n                this._hackActiveSlideAnimation(nextActiveItem, null, true);\n            }\n\n            if (hasNewSliderWidth || hasNewSliderHeight || hasNewItemWidth || hasNewItemHeight) {\n                this._snapToItem(nextActiveItem, false, false, false, false);\n            }\n        } else if (nextFirstItem !== this._previousFirstItem && nextFirstItem !== this._activeItem) {\n            this._activeItem = nextFirstItem;\n            this._previousFirstItem = nextFirstItem;\n            this._snapToItem(nextFirstItem, false, true, false, false);\n        }\n\n        if (this.props.onScroll !== prevProps.onScroll) {\n          this._setScrollHandler(this.props);\n        }\n    }\n\n    componentWillUnmount () {\n        this._mounted = false;\n        this.stopAutoplay();\n        clearTimeout(this._apparitionTimeout);\n        clearTimeout(this._hackSlideAnimationTimeout);\n        clearTimeout(this._enableAutoplayTimeout);\n        clearTimeout(this._autoplayTimeout);\n        clearTimeout(this._snapNoMomentumTimeout);\n        clearTimeout(this._edgeItemTimeout);\n        clearTimeout(this._lockScrollTimeout);\n    }\n\n    get realIndex () {\n        return this._activeItem;\n    }\n\n    get currentIndex () {\n        return this._getDataIndex(this._activeItem);\n    }\n\n    get currentScrollPosition () {\n        return this._currentContentOffset;\n    }\n\n    _setScrollHandler(props) {\n      // Native driver for scroll events\n      const scrollEventConfig = {\n        listener: this._onScroll,\n        useNativeDriver: true,\n      };\n      this._scrollPos = new Animated.Value(0);\n      const argMapping = props.vertical\n        ? [{ nativeEvent: { contentOffset: { y: this._scrollPos } } }]\n        : [{ nativeEvent: { contentOffset: { x: this._scrollPos } } }];\n\n      if (props.onScroll && Array.isArray(props.onScroll._argMapping)) {\n        // Because of a react-native issue https://github.com/facebook/react-native/issues/13294\n        argMapping.pop();\n        const [ argMap ] = props.onScroll._argMapping;\n        if (argMap && argMap.nativeEvent && argMap.nativeEvent.contentOffset) {\n          // Shares the same animated value passed in props\n          this._scrollPos =\n            argMap.nativeEvent.contentOffset.x ||\n            argMap.nativeEvent.contentOffset.y ||\n            this._scrollPos;\n        }\n        argMapping.push(...props.onScroll._argMapping);\n      }\n      this._onScrollHandler = Animated.event(\n        argMapping,\n        scrollEventConfig\n      );\n    }\n\n    _needsScrollView () {\n        const { useScrollView } = this.props;\n        return useScrollView || !AnimatedFlatList || this._shouldUseStackLayout() || this._shouldUseTinderLayout();\n    }\n\n    _needsRTLAdaptations () {\n        const { vertical } = this.props;\n        return IS_RTL && !IS_IOS && !vertical;\n    }\n\n    _canLockScroll () {\n        const { scrollEnabled, enableMomentum, lockScrollWhileSnapping } = this.props;\n        return scrollEnabled && !enableMomentum && lockScrollWhileSnapping;\n    }\n\n    _enableLoop () {\n        const { data, enableSnap, loop } = this.props;\n        return enableSnap && loop && data && data.length && data.length > 1;\n    }\n\n    _shouldAnimateSlides (props = this.props) {\n        const { inactiveSlideOpacity, inactiveSlideScale, scrollInterpolator, slideInterpolatedStyle } = props;\n        return inactiveSlideOpacity < 1 ||\n            inactiveSlideScale < 1 ||\n            !!scrollInterpolator ||\n            !!slideInterpolatedStyle ||\n            this._shouldUseShiftLayout() ||\n            this._shouldUseStackLayout() ||\n            this._shouldUseTinderLayout();\n    }\n\n    _shouldUseCustomAnimation () {\n        const { activeAnimationOptions } = this.props;\n        return !!activeAnimationOptions && !this._shouldUseStackLayout() && !this._shouldUseTinderLayout();\n    }\n\n    _shouldUseShiftLayout () {\n        const { inactiveSlideShift, layout } = this.props;\n        return layout === 'default' && inactiveSlideShift !== 0;\n    }\n\n    _shouldUseStackLayout () {\n        return this.props.layout === 'stack';\n    }\n\n    _shouldUseTinderLayout () {\n        return this.props.layout === 'tinder';\n    }\n\n    _getCustomData (props = this.props) {\n        const { data, loopClonesPerSide } = props;\n        const dataLength = data && data.length;\n\n        if (!dataLength) {\n            return [];\n        }\n\n        if (!this._enableLoop()) {\n            return data;\n        }\n\n        let previousItems = [];\n        let nextItems = [];\n\n        if (loopClonesPerSide > dataLength) {\n            const dataMultiplier = Math.floor(loopClonesPerSide / dataLength);\n            const remainder = loopClonesPerSide % dataLength;\n\n            for (let i = 0; i < dataMultiplier; i++) {\n                previousItems.push(...data);\n                nextItems.push(...data);\n            }\n\n            previousItems.unshift(...data.slice(-remainder));\n            nextItems.push(...data.slice(0, remainder));\n        } else {\n            previousItems = data.slice(-loopClonesPerSide);\n            nextItems = data.slice(0, loopClonesPerSide);\n        }\n\n        return previousItems.concat(data, nextItems);\n    }\n\n    _getCustomDataLength (props = this.props) {\n        const { data, loopClonesPerSide } = props;\n        const dataLength = data && data.length;\n\n        if (!dataLength) {\n            return 0;\n        }\n\n        return this._enableLoop() ? dataLength + (2 * loopClonesPerSide) : dataLength;\n    }\n\n    _getCustomIndex (index, props = this.props) {\n        const itemsLength = this._getCustomDataLength(props);\n\n        if (!itemsLength || (!index && index !== 0)) {\n            return 0;\n        }\n\n        return this._needsRTLAdaptations() ? itemsLength - index - 1 : index;\n    }\n\n    _getDataIndex (index) {\n        const { data, loopClonesPerSide } = this.props;\n        const dataLength = data && data.length;\n\n        if (!this._enableLoop() || !dataLength) {\n            return index;\n        }\n\n        if (index >= dataLength + loopClonesPerSide) {\n            return loopClonesPerSide > dataLength ?\n                (index - loopClonesPerSide) % dataLength :\n                index - dataLength - loopClonesPerSide;\n        } else if (index < loopClonesPerSide) {\n            // TODO: is there a simpler way of determining the interpolated index?\n            if (loopClonesPerSide > dataLength) {\n                const baseDataIndexes = [];\n                const dataIndexes = [];\n                const dataMultiplier = Math.floor(loopClonesPerSide / dataLength);\n                const remainder = loopClonesPerSide % dataLength;\n\n                for (let i = 0; i < dataLength; i++) {\n                    baseDataIndexes.push(i);\n                }\n\n                for (let j = 0; j < dataMultiplier; j++) {\n                    dataIndexes.push(...baseDataIndexes);\n                }\n\n                dataIndexes.unshift(...baseDataIndexes.slice(-remainder));\n                return dataIndexes[index];\n            } else {\n                return index + dataLength - loopClonesPerSide;\n            }\n        } else {\n            return index - loopClonesPerSide;\n        }\n    }\n\n    // Used with `snapToItem()` and 'PaginationDot'\n    _getPositionIndex (index) {\n        const { loop, loopClonesPerSide } = this.props;\n        return loop ? index + loopClonesPerSide : index;\n    }\n\n    _getFirstItem (index, props = this.props) {\n        const { loopClonesPerSide } = props;\n        const itemsLength = this._getCustomDataLength(props);\n\n        if (!itemsLength || index > itemsLength - 1 || index < 0) {\n            return 0;\n        }\n\n        return this._enableLoop() ? index + loopClonesPerSide : index;\n    }\n\n    _getWrappedRef () {\n        // https://github.com/facebook/react-native/issues/10635\n        // https://stackoverflow.com/a/48786374/8412141\n        return this._carouselRef && this._carouselRef.getNode && this._carouselRef.getNode();\n    }\n\n    _getScrollEnabled () {\n        return this._scrollEnabled;\n    }\n\n    _setScrollEnabled (scrollEnabled = true) {\n        const wrappedRef = this._getWrappedRef();\n\n        if (!wrappedRef || !wrappedRef.setNativeProps) {\n            return;\n        }\n\n        // 'setNativeProps()' is used instead of 'setState()' because the latter\n        // really takes a toll on Android behavior when momentum is disabled\n        wrappedRef.setNativeProps({ scrollEnabled });\n        this._scrollEnabled = scrollEnabled;\n    }\n\n    _getKeyExtractor (item, index) {\n        return this._needsScrollView() ? `scrollview-item-${index}` : `flatlist-item-${index}`;\n    }\n\n    _getScrollOffset (event) {\n        const { vertical } = this.props;\n        return (event && event.nativeEvent && event.nativeEvent.contentOffset &&\n            event.nativeEvent.contentOffset[vertical ? 'y' : 'x']) || 0;\n    }\n\n    _getContainerInnerMargin (opposite = false) {\n        const { sliderWidth, sliderHeight, itemWidth, itemHeight, vertical, activeSlideAlignment } = this.props;\n\n        if ((activeSlideAlignment === 'start' && !opposite) ||\n            (activeSlideAlignment === 'end' && opposite)) {\n            return 0;\n        } else if ((activeSlideAlignment === 'end' && !opposite) ||\n            (activeSlideAlignment === 'start' && opposite)) {\n            return vertical ? sliderHeight - itemHeight : sliderWidth - itemWidth;\n        } else {\n            return vertical ? (sliderHeight - itemHeight) / 2 : (sliderWidth - itemWidth) / 2;\n        }\n    }\n\n    _getViewportOffset () {\n        const { sliderWidth, sliderHeight, itemWidth, itemHeight, vertical, activeSlideAlignment } = this.props;\n\n        if (activeSlideAlignment === 'start') {\n            return vertical ? itemHeight / 2 : itemWidth / 2;\n        } else if (activeSlideAlignment === 'end') {\n            return vertical ?\n                sliderHeight - (itemHeight / 2) :\n                sliderWidth - (itemWidth / 2);\n        } else {\n            return vertical ? sliderHeight / 2 : sliderWidth / 2;\n        }\n    }\n\n    _getCenter (offset) {\n        return offset + this._getViewportOffset() - this._getContainerInnerMargin();\n    }\n\n    _getActiveItem (offset) {\n        const { activeSlideOffset, swipeThreshold } = this.props;\n        const center = this._getCenter(offset);\n        const centerOffset = activeSlideOffset || swipeThreshold;\n\n        for (let i = 0; i < this._positions.length; i++) {\n            const { start, end } = this._positions[i];\n            if (center + centerOffset >= start && center - centerOffset <= end) {\n                return i;\n            }\n        }\n\n        const lastIndex = this._positions.length - 1;\n        if (this._positions[lastIndex] && center - centerOffset > this._positions[lastIndex].end) {\n            return lastIndex;\n        }\n\n        return 0;\n    }\n\n    _initPositionsAndInterpolators (props = this.props) {\n        const { data, itemWidth, itemHeight, scrollInterpolator, vertical } = props;\n        const sizeRef = vertical ? itemHeight : itemWidth;\n\n        if (!data || !data.length) {\n            return;\n        }\n\n        let interpolators = [];\n        this._positions = [];\n\n        this._getCustomData(props).forEach((itemData, index) => {\n            const _index = this._getCustomIndex(index, props);\n            let animatedValue;\n\n            this._positions[index] = {\n                start: index * sizeRef,\n                end: index * sizeRef + sizeRef\n            };\n\n            if (!this._shouldAnimateSlides(props)) {\n                animatedValue = new Animated.Value(1);\n            } else if (this._shouldUseCustomAnimation()) {\n                animatedValue = new Animated.Value(_index === this._activeItem ? 1 : 0);\n            } else {\n                let interpolator;\n\n                if (scrollInterpolator) {\n                    interpolator = scrollInterpolator(_index, props);\n                } else if (this._shouldUseStackLayout()) {\n                    interpolator = stackScrollInterpolator(_index, props);\n                } else if (this._shouldUseTinderLayout()) {\n                    interpolator = tinderScrollInterpolator(_index, props);\n                }\n\n                if (!interpolator || !interpolator.inputRange || !interpolator.outputRange) {\n                    interpolator = defaultScrollInterpolator(_index, props);\n                }\n\n                animatedValue = this._scrollPos.interpolate({\n                    ...interpolator,\n                    extrapolate: 'clamp'\n                });\n            }\n\n            interpolators.push(animatedValue);\n        });\n\n        this.setState({ interpolators });\n    }\n\n    _getSlideAnimation (index, toValue) {\n        const { interpolators } = this.state;\n        const { activeAnimationType, activeAnimationOptions } = this.props;\n\n        const animatedValue = interpolators && interpolators[index];\n\n        if (!animatedValue && animatedValue !== 0) {\n            return null;\n        }\n\n        const animationCommonOptions = {\n            isInteraction: false,\n            useNativeDriver: true,\n            ...activeAnimationOptions,\n            toValue: toValue\n        };\n\n        return Animated.parallel([\n            Animated['timing'](\n                animatedValue,\n                { ...animationCommonOptions, easing: Easing.linear }\n            ),\n            Animated[activeAnimationType](\n                animatedValue,\n                { ...animationCommonOptions }\n            )\n        ]);\n    }\n\n    _playCustomSlideAnimation (current, next) {\n        const { interpolators } = this.state;\n        const itemsLength = this._getCustomDataLength();\n        const _currentIndex = this._getCustomIndex(current);\n        const _currentDataIndex = this._getDataIndex(_currentIndex);\n        const _nextIndex = this._getCustomIndex(next);\n        const _nextDataIndex = this._getDataIndex(_nextIndex);\n        let animations = [];\n\n        // Keep animations in sync when looping\n        if (this._enableLoop()) {\n            for (let i = 0; i < itemsLength; i++) {\n                if (this._getDataIndex(i) === _currentDataIndex && interpolators[i]) {\n                    animations.push(this._getSlideAnimation(i, 0));\n                } else if (this._getDataIndex(i) === _nextDataIndex && interpolators[i]) {\n                    animations.push(this._getSlideAnimation(i, 1));\n                }\n            }\n        } else {\n            if (interpolators[current]) {\n                animations.push(this._getSlideAnimation(current, 0));\n            }\n            if (interpolators[next]) {\n                animations.push(this._getSlideAnimation(next, 1));\n            }\n        }\n\n        Animated.parallel(animations, { stopTogether: false }).start();\n    }\n\n    _hackActiveSlideAnimation (index, goTo, force = false) {\n        const { data } = this.props;\n\n        if (!this._mounted || !this._carouselRef || !this._positions[index] || (!force && this._enableLoop())) {\n            return;\n        }\n\n        const offset = this._positions[index] && this._positions[index].start;\n\n        if (!offset && offset !== 0) {\n            return;\n        }\n\n        const itemsLength = data && data.length;\n        const direction = goTo || itemsLength === 1 ? 'start' : 'end';\n\n        this._scrollTo(offset + (direction === 'start' ? -1 : 1), false);\n\n        clearTimeout(this._hackSlideAnimationTimeout);\n        this._hackSlideAnimationTimeout = setTimeout(() => {\n            this._scrollTo(offset, false);\n        }, 50); // works randomly when set to '0'\n    }\n\n    _lockScroll () {\n        const { lockScrollTimeoutDuration } = this.props;\n        clearTimeout(this._lockScrollTimeout);\n        this._lockScrollTimeout = setTimeout(() => {\n            this._releaseScroll();\n        }, lockScrollTimeoutDuration);\n        this._setScrollEnabled(false);\n    }\n\n    _releaseScroll () {\n        clearTimeout(this._lockScrollTimeout);\n        this._setScrollEnabled(true);\n    }\n\n    _repositionScroll (index) {\n        const { data, loopClonesPerSide } = this.props;\n        const dataLength = data && data.length;\n\n        if (!this._enableLoop() || !dataLength ||\n            (index >= loopClonesPerSide && index < dataLength + loopClonesPerSide)) {\n            return;\n        }\n\n        let repositionTo = index;\n\n        if (index >= dataLength + loopClonesPerSide) {\n            repositionTo = index - dataLength;\n        } else if (index < loopClonesPerSide) {\n            repositionTo = index + dataLength;\n        }\n\n        this._snapToItem(repositionTo, false, false, false, false);\n    }\n\n    _scrollTo (offset, animated = true) {\n        const { vertical } = this.props;\n        const wrappedRef = this._getWrappedRef();\n\n        if (!this._mounted || !wrappedRef) {\n            return;\n        }\n\n        const specificOptions = this._needsScrollView() ? {\n            x: vertical ? 0 : offset,\n            y: vertical ? offset : 0\n        } : {\n            offset\n        };\n        const options = {\n            ...specificOptions,\n            animated\n        };\n\n        if (this._needsScrollView()) {\n            wrappedRef.scrollTo(options);\n        } else {\n            wrappedRef.scrollToOffset(options);\n        }\n    }\n\n    _onScroll (event) {\n        const { callbackOffsetMargin, enableMomentum, onScroll } = this.props;\n\n        const scrollOffset = event ? this._getScrollOffset(event) : this._currentContentOffset;\n        const nextActiveItem = this._getActiveItem(scrollOffset);\n        const itemReached = nextActiveItem === this._itemToSnapTo;\n        const scrollConditions =\n            scrollOffset >= this._scrollOffsetRef - callbackOffsetMargin &&\n            scrollOffset <= this._scrollOffsetRef + callbackOffsetMargin;\n\n        this._currentContentOffset = scrollOffset;\n        this._onScrollTriggered = true;\n        this._lastScrollDate = Date.now();\n\n        if (this._activeItem !== nextActiveItem && this._shouldUseCustomAnimation()) {\n            this._playCustomSlideAnimation(this._activeItem, nextActiveItem);\n        }\n\n        if (enableMomentum) {\n            clearTimeout(this._snapNoMomentumTimeout);\n\n            if (this._activeItem !== nextActiveItem) {\n                this._activeItem = nextActiveItem;\n            }\n\n            if (itemReached) {\n                if (this._canFireBeforeCallback) {\n                    this._onBeforeSnap(this._getDataIndex(nextActiveItem));\n                }\n\n                if (scrollConditions && this._canFireCallback) {\n                    this._onSnap(this._getDataIndex(nextActiveItem));\n                }\n            }\n        } else if (this._activeItem !== nextActiveItem && itemReached) {\n            if (this._canFireBeforeCallback) {\n                this._onBeforeSnap(this._getDataIndex(nextActiveItem));\n            }\n\n            if (scrollConditions) {\n                this._activeItem = nextActiveItem;\n\n                if (this._canLockScroll()) {\n                    this._releaseScroll();\n                }\n\n                if (this._canFireCallback) {\n                    this._onSnap(this._getDataIndex(nextActiveItem));\n                }\n            }\n        }\n\n        if (nextActiveItem === this._itemToSnapTo &&\n            scrollOffset === this._scrollOffsetRef) {\n            this._repositionScroll(nextActiveItem);\n        }\n\n        if (typeof onScroll === \"function\" && event) {\n            onScroll(event);\n        }\n    }\n\n    _onStartShouldSetResponderCapture (event) {\n        const { onStartShouldSetResponderCapture } = this.props;\n\n        if (onStartShouldSetResponderCapture) {\n            onStartShouldSetResponderCapture(event);\n        }\n\n        return this._getScrollEnabled();\n    }\n\n    _onTouchStart () {\n        const { onTouchStart } = this.props\n\n        // `onTouchStart` is fired even when `scrollEnabled` is set to `false`\n        if (this._getScrollEnabled() !== false && this._autoplaying) {\n            this.pauseAutoPlay();\n        }\n\n        if (onTouchStart) {\n            onTouchStart()\n        }\n    }\n\n    _onTouchEnd () {\n        const { onTouchEnd } = this.props\n\n        if (this._getScrollEnabled() !== false && this._autoplay && !this._autoplaying) {\n            // This event is buggy on Android, so a fallback is provided in _onScrollEnd()\n            this.startAutoplay();\n        }\n\n        if (onTouchEnd) {\n            onTouchEnd()\n        }\n    }\n\n    // Used when `enableSnap` is ENABLED\n    _onScrollBeginDrag (event) {\n        const { onScrollBeginDrag } = this.props;\n\n        if (!this._getScrollEnabled()) {\n            return;\n        }\n\n        this._scrollStartOffset = this._getScrollOffset(event);\n        this._scrollStartActive = this._getActiveItem(this._scrollStartOffset);\n        this._ignoreNextMomentum = false;\n        // this._canFireCallback = false;\n\n        if (onScrollBeginDrag) {\n            onScrollBeginDrag(event);\n        }\n    }\n\n    // Used when `enableMomentum` is DISABLED\n    _onScrollEndDrag (event) {\n        const { onScrollEndDrag } = this.props;\n\n        if (this._carouselRef) {\n            this._onScrollEnd && this._onScrollEnd();\n        }\n\n        if (onScrollEndDrag) {\n            onScrollEndDrag(event);\n        }\n    }\n\n    // Used when `enableMomentum` is ENABLED\n    _onMomentumScrollEnd (event) {\n        const { onMomentumScrollEnd } = this.props;\n\n        if (this._carouselRef) {\n            this._onScrollEnd && this._onScrollEnd();\n        }\n\n        if (onMomentumScrollEnd) {\n            onMomentumScrollEnd(event);\n        }\n    }\n\n    _onScrollEnd (event) {\n        const { autoplayDelay, enableSnap } = this.props;\n\n        if (this._ignoreNextMomentum) {\n            // iOS fix\n            this._ignoreNextMomentum = false;\n            return;\n        }\n\n        if (this._currentContentOffset === this._scrollEndOffset) {\n            return;\n        }\n\n        this._scrollEndOffset = this._currentContentOffset;\n        this._scrollEndActive = this._getActiveItem(this._scrollEndOffset);\n\n        if (enableSnap) {\n            this._snapScroll(this._scrollEndOffset - this._scrollStartOffset);\n        }\n\n        // The touchEnd event is buggy on Android, so this will serve as a fallback whenever needed\n        // https://github.com/facebook/react-native/issues/9439\n        if (this._autoplay && !this._autoplaying) {\n            clearTimeout(this._enableAutoplayTimeout);\n            this._enableAutoplayTimeout = setTimeout(() => {\n                this.startAutoplay();\n            }, autoplayDelay + 50);\n        }\n    }\n\n    // Due to a bug, this event is only fired on iOS\n    // https://github.com/facebook/react-native/issues/6791\n    // it's fine since we're only fixing an iOS bug in it, so ...\n    _onTouchRelease (event) {\n        const { enableMomentum } = this.props;\n\n        if (enableMomentum && IS_IOS) {\n            clearTimeout(this._snapNoMomentumTimeout);\n            this._snapNoMomentumTimeout = setTimeout(() => {\n                this._snapToItem(this._activeItem);\n            }, 100);\n        }\n    }\n\n    _onLayout (event) {\n        const { onLayout } = this.props;\n\n        // Prevent unneeded actions during the first 'onLayout' (triggered on init)\n        if (this._onLayoutInitDone) {\n            this._initPositionsAndInterpolators();\n            this._snapToItem(this._activeItem, false, false, false, false);\n        } else {\n            this._onLayoutInitDone = true;\n        }\n\n        if (onLayout) {\n            onLayout(event);\n        }\n    }\n\n    _snapScroll (delta) {\n        const { swipeThreshold } = this.props;\n\n        // When using momentum and releasing the touch with\n        // no velocity, scrollEndActive will be undefined (iOS)\n        if (!this._scrollEndActive && this._scrollEndActive !== 0 && IS_IOS) {\n            this._scrollEndActive = this._scrollStartActive;\n        }\n\n        if (this._scrollStartActive !== this._scrollEndActive) {\n            // Snap to the new active item\n            this._snapToItem(this._scrollEndActive);\n        } else {\n            // Snap depending on delta\n            if (delta > 0) {\n                if (delta > swipeThreshold) {\n                    this._snapToItem(this._scrollStartActive + 1);\n                } else {\n                    this._snapToItem(this._scrollEndActive);\n                }\n            } else if (delta < 0) {\n                if (delta < -swipeThreshold) {\n                    this._snapToItem(this._scrollStartActive - 1);\n                } else {\n                    this._snapToItem(this._scrollEndActive);\n                }\n            } else {\n                // Snap to current\n                this._snapToItem(this._scrollEndActive);\n            }\n        }\n    }\n\n    _snapToItem (index, animated = true, fireCallback = true, initial = false, lockScroll = true) {\n        const { enableMomentum, onSnapToItem, onBeforeSnapToItem } = this.props;\n        const itemsLength = this._getCustomDataLength();\n        const wrappedRef = this._getWrappedRef();\n\n        if (!itemsLength || !wrappedRef) {\n            return;\n        }\n\n        if (!index || index < 0) {\n            index = 0;\n        } else if (itemsLength > 0 && index >= itemsLength) {\n            index = itemsLength - 1;\n        }\n\n        if (index !== this._previousActiveItem) {\n            this._previousActiveItem = index;\n\n            // Placed here to allow overscrolling for edges items\n            if (lockScroll && this._canLockScroll()) {\n                this._lockScroll();\n            }\n\n            if (fireCallback) {\n                if (onBeforeSnapToItem) {\n                    this._canFireBeforeCallback = true;\n                }\n\n                if (onSnapToItem) {\n                    this._canFireCallback = true;\n                }\n            }\n        }\n\n        this._itemToSnapTo = index;\n        this._scrollOffsetRef = this._positions[index] && this._positions[index].start;\n        this._onScrollTriggered = false;\n\n        if (!this._scrollOffsetRef && this._scrollOffsetRef !== 0) {\n            return;\n        }\n\n        this._scrollTo(this._scrollOffsetRef, animated);\n\n        this._scrollEndOffset = this._currentContentOffset;\n\n        if (enableMomentum) {\n            // iOS fix, check the note in the constructor\n            if (!initial) {\n                this._ignoreNextMomentum = true;\n            }\n\n            // When momentum is enabled and the user is overscrolling or swiping very quickly,\n            // 'onScroll' is not going to be triggered for edge items. Then callback won't be\n            // fired and loop won't work since the scrollview is not going to be repositioned.\n            // As a workaround, '_onScroll()' will be called manually for these items if a given\n            // condition hasn't been met after a small delay.\n            // WARNING: this is ok only when relying on 'momentumScrollEnd', not with 'scrollEndDrag'\n            if (index === 0 || index === itemsLength - 1) {\n                clearTimeout(this._edgeItemTimeout);\n                this._edgeItemTimeout = setTimeout(() => {\n                    if (!initial && index === this._activeItem && !this._onScrollTriggered) {\n                        this._onScroll();\n                    }\n                }, 250);\n            }\n        }\n    }\n\n    _onBeforeSnap (index) {\n        const { onBeforeSnapToItem } = this.props;\n\n        if (!this._carouselRef) {\n            return;\n        }\n\n        this._canFireBeforeCallback = false;\n        onBeforeSnapToItem && onBeforeSnapToItem(index);\n    }\n\n    _onSnap (index) {\n        const { onSnapToItem } = this.props;\n\n        if (!this._carouselRef) {\n            return;\n        }\n\n        this._canFireCallback = false;\n        onSnapToItem && onSnapToItem(index);\n    }\n\n    startAutoplay () {\n        const { autoplayInterval, autoplayDelay } = this.props;\n        this._autoplay = true;\n\n        if (this._autoplaying) {\n            return;\n        }\n\n        clearTimeout(this._autoplayTimeout);\n        this._autoplayTimeout = setTimeout(() => {\n            this._autoplaying = true;\n            this._autoplayInterval = setInterval(() => {\n                if (this._autoplaying) {\n                    this.snapToNext();\n                }\n            }, autoplayInterval);\n        }, autoplayDelay);\n    }\n\n    pauseAutoPlay () {\n        this._autoplaying = false;\n        clearTimeout(this._autoplayTimeout);\n        clearTimeout(this._enableAutoplayTimeout);\n        clearInterval(this._autoplayInterval);\n    }\n\n    stopAutoplay () {\n        this._autoplay = false;\n        this.pauseAutoPlay();\n    }\n\n    snapToItem (index, animated = true, fireCallback = true) {\n        if (!index || index < 0) {\n            index = 0;\n        }\n\n        const positionIndex = this._getPositionIndex(index);\n\n        if (positionIndex === this._activeItem) {\n            return;\n        }\n\n        this._snapToItem(positionIndex, animated, fireCallback);\n    }\n\n    snapToNext (animated = true, fireCallback = true) {\n        const itemsLength = this._getCustomDataLength();\n\n        let newIndex = this._activeItem + 1;\n        if (newIndex > itemsLength - 1) {\n            if (!this._enableLoop()) {\n                return;\n            }\n            newIndex = 0;\n        }\n        this._snapToItem(newIndex, animated, fireCallback);\n    }\n\n    snapToPrev (animated = true, fireCallback = true) {\n        const itemsLength = this._getCustomDataLength();\n\n        let newIndex = this._activeItem - 1;\n        if (newIndex < 0) {\n            if (!this._enableLoop()) {\n                return;\n            }\n            newIndex = itemsLength - 1;\n        }\n        this._snapToItem(newIndex, animated, fireCallback);\n    }\n\n    // https://github.com/facebook/react-native/issues/1831#issuecomment-231069668\n    triggerRenderingHack (offset) {\n        // Avoid messing with user scroll\n        if (Date.now() - this._lastScrollDate < 500) {\n            return;\n        }\n\n        const scrollPosition = this._currentContentOffset;\n        if (!scrollPosition && scrollPosition !== 0) {\n            return;\n        }\n\n        const scrollOffset = offset || (scrollPosition === 0 ? 1 : -1);\n        this._scrollTo(scrollPosition + scrollOffset, false);\n    }\n\n    _getSlideInterpolatedStyle (index, animatedValue) {\n        const { layoutCardOffset, slideInterpolatedStyle } = this.props;\n\n        if (slideInterpolatedStyle) {\n            return slideInterpolatedStyle(index, animatedValue, this.props);\n        } else if (this._shouldUseTinderLayout()) {\n            return tinderAnimatedStyles(index, animatedValue, this.props, layoutCardOffset);\n        } else if (this._shouldUseStackLayout()) {\n            return stackAnimatedStyles(index, animatedValue, this.props, layoutCardOffset);\n        } else if (this._shouldUseShiftLayout()) {\n            return shiftAnimatedStyles(index, animatedValue, this.props);\n        } else {\n            return defaultAnimatedStyles(index, animatedValue, this.props);\n        }\n    }\n\n    _renderItem ({ item, index }) {\n        const { interpolators } = this.state;\n        const {\n            hasParallaxImages,\n            itemWidth,\n            itemHeight,\n            keyExtractor,\n            renderItem,\n            sliderHeight,\n            sliderWidth,\n            slideStyle,\n            vertical\n        } = this.props;\n\n        const animatedValue = interpolators && interpolators[index];\n\n        if (!animatedValue && animatedValue !== 0) {\n            return null;\n        }\n\n        const animate = this._shouldAnimateSlides();\n        const Component = animate ? Animated.View : View;\n        const animatedStyle = animate ? this._getSlideInterpolatedStyle(index, animatedValue) : {};\n\n        const parallaxProps = hasParallaxImages ? {\n            scrollPosition: this._scrollPos,\n            carouselRef: this._carouselRef,\n            vertical,\n            sliderWidth,\n            sliderHeight,\n            itemWidth,\n            itemHeight\n        } : undefined;\n\n        const mainDimension = vertical ? { height: itemHeight } : { width: itemWidth };\n        const specificProps = this._needsScrollView() ? {\n            key: keyExtractor ? keyExtractor(item, index) : this._getKeyExtractor(item, index)\n        } : {};\n\n        return (\n            <Component style={[mainDimension, slideStyle, animatedStyle]} pointerEvents={'box-none'} {...specificProps}>\n                { renderItem({ item, index }, parallaxProps) }\n            </Component>\n        );\n    }\n\n    _getComponentOverridableProps () {\n        const {\n            enableMomentum,\n            itemWidth,\n            itemHeight,\n            loopClonesPerSide,\n            sliderWidth,\n            sliderHeight,\n            vertical\n        } = this.props;\n\n        const visibleItems = Math.ceil(vertical ?\n            sliderHeight / itemHeight :\n            sliderWidth / itemWidth) + 1;\n        const initialNumPerSide = this._enableLoop() ? loopClonesPerSide : 2;\n        const initialNumToRender = visibleItems + (initialNumPerSide * 2);\n        const maxToRenderPerBatch = 1 + (initialNumToRender * 2);\n        const windowSize = maxToRenderPerBatch;\n\n        const specificProps = !this._needsScrollView() ? {\n            initialNumToRender: initialNumToRender,\n            maxToRenderPerBatch: maxToRenderPerBatch,\n            windowSize: windowSize\n            // updateCellsBatchingPeriod\n        } : {};\n\n        return {\n            decelerationRate: enableMomentum ? 0.9 : 'fast',\n            showsHorizontalScrollIndicator: false,\n            showsVerticalScrollIndicator: false,\n            overScrollMode: 'never',\n            automaticallyAdjustContentInsets: false,\n            directionalLockEnabled: true,\n            pinchGestureEnabled: false,\n            scrollsToTop: false,\n            removeClippedSubviews: !this._needsScrollView(),\n            inverted: this._needsRTLAdaptations(),\n            // renderToHardwareTextureAndroid: true,\n            ...specificProps\n        };\n    }\n\n    _getComponentStaticProps () {\n        const { hideCarousel } = this.state;\n        const {\n            containerCustomStyle,\n            contentContainerCustomStyle,\n            keyExtractor,\n            sliderWidth,\n            sliderHeight,\n            style,\n            vertical\n        } = this.props;\n\n        const containerStyle = [\n            containerCustomStyle || style || {},\n            hideCarousel ? { opacity: 0 } : {},\n            vertical ?\n                { height: sliderHeight, flexDirection: 'column' } :\n                // LTR hack; see https://github.com/facebook/react-native/issues/11960\n                // and https://github.com/facebook/react-native/issues/13100#issuecomment-328986423\n                { width: sliderWidth, flexDirection: this._needsRTLAdaptations() ? 'row-reverse' : 'row' }\n        ];\n        const contentContainerStyle = [\n            vertical ? {\n                paddingTop: this._getContainerInnerMargin(),\n                paddingBottom: this._getContainerInnerMargin(true)\n            } : {\n                paddingLeft: this._getContainerInnerMargin(),\n                paddingRight: this._getContainerInnerMargin(true)\n            },\n            contentContainerCustomStyle || {}\n        ];\n\n        const specificProps = !this._needsScrollView() ? {\n            // extraData: this.state,\n            renderItem: this._renderItem,\n            numColumns: 1,\n            keyExtractor: keyExtractor || this._getKeyExtractor\n        } : {};\n\n        return {\n            ref: c => this._carouselRef = c,\n            data: this._getCustomData(),\n            style: containerStyle,\n            contentContainerStyle: contentContainerStyle,\n            horizontal: !vertical,\n            scrollEventThrottle: 1,\n            onScroll: this._onScrollHandler,\n            onScrollBeginDrag: this._onScrollBeginDrag,\n            onScrollEndDrag: this._onScrollEndDrag,\n            onMomentumScrollEnd: this._onMomentumScrollEnd,\n            onResponderRelease: this._onTouchRelease,\n            onStartShouldSetResponderCapture: this._onStartShouldSetResponderCapture,\n            onTouchStart: this._onTouchStart,\n            onTouchEnd: this._onScrollEnd,\n            onLayout: this._onLayout,\n            ...specificProps\n        };\n    }\n\n    render () {\n        const { data, renderItem, useScrollView } = this.props;\n\n        if (!data || !renderItem) {\n            return null;\n        }\n\n        const props = {\n            ...this._getComponentOverridableProps(),\n            ...this.props,\n            ...this._getComponentStaticProps()\n        };\n\n        const ScrollViewComponent = typeof useScrollView === 'function' ? useScrollView : AnimatedScrollView\n\n        return this._needsScrollView() ? (\n            <ScrollViewComponent {...props}>\n                {\n                    this._getCustomData().map((item, index) => {\n                        return this._renderItem({ item, index });\n                    })\n                }\n            </ScrollViewComponent>\n        ) : (\n            <AnimatedFlatList {...props} />\n        );\n    }\n}\n"]},"metadata":{},"sourceType":"module"}