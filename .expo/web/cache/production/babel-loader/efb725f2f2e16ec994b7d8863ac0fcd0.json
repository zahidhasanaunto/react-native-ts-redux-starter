{"ast":null,"code":"import _classCallCheck from\"@babel/runtime/helpers/classCallCheck\";import _createClass from\"@babel/runtime/helpers/createClass\";import _possibleConstructorReturn from\"@babel/runtime/helpers/possibleConstructorReturn\";import _getPrototypeOf from\"@babel/runtime/helpers/getPrototypeOf\";import _inherits from\"@babel/runtime/helpers/inherits\";function _createSuper(Derived){return function(){var Super=_getPrototypeOf(Derived),result;if(_isNativeReflectConstruct()){var NewTarget=_getPrototypeOf(this).constructor;result=Reflect.construct(Super,arguments,NewTarget);}else{result=Super.apply(this,arguments);}return _possibleConstructorReturn(this,result);};}function _isNativeReflectConstruct(){if(typeof Reflect===\"undefined\"||!Reflect.construct)return false;if(Reflect.construct.sham)return false;if(typeof Proxy===\"function\")return true;try{Date.prototype.toString.call(Reflect.construct(Date,[],function(){}));return true;}catch(e){return false;}}import React from'react';import View from\"react-native-web/dist/exports/View\";import Image from\"react-native-web/dist/exports/Image\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import PropTypes from'prop-types';import YellowStar from\"./star-yellow.png\";import GrayStar from\"./star-gray.png\";import HalfStar from\"./star-half.png\";var STAR_COUNT=5;var Star=function(_React$PureComponent){_inherits(Star,_React$PureComponent);var _super=_createSuper(Star);function Star(){_classCallCheck(this,Star);return _super.apply(this,arguments);}_createClass(Star,[{key:\"render\",value:function render(){var _this$props=this.props,score=_this$props.score,totalScore=_this$props.totalScore,style=_this$props.style;var scale=totalScore/STAR_COUNT;var yellowStarCount=~~(score/scale);var dif=score/scale-yellowStarCount;var halfStarCount=0;var grayStarCount=STAR_COUNT-yellowStarCount;if(0<=dif&&dif<0.3){}else if(0.3<=dif&&dif<0.8){halfStarCount=1;grayStarCount=grayStarCount-1;}else if(dif>=0.8){yellowStarCount=yellowStarCount+1;grayStarCount=grayStarCount-1;}var flattenStyle={};if(typeof style==='number'){flattenStyle=StyleSheet.flatten([style]);}else{flattenStyle=style;}var starWidth=flattenStyle.width/STAR_COUNT||30;var starHeight=flattenStyle.height||30;var Star=function Star(_ref){var source=_ref.source;return React.createElement(View,{style:[Styles.star,{width:starWidth,height:starHeight}]},React.createElement(Image,{source:source,style:[Styles.starImg,{width:starWidth*0.8,height:starHeight*0.8}]}));};return React.createElement(View,{style:[Styles.container,style]},Array(yellowStarCount).fill().map(function(e,i){return React.createElement(Star,{key:i.toString(),source:YellowStar});}),Array(halfStarCount).fill().map(function(e,i){return React.createElement(Star,{key:i.toString(),source:HalfStar});}),Array(grayStarCount).fill().map(function(e,i){return React.createElement(Star,{key:i.toString(),source:GrayStar});}));}}]);return Star;}(React.PureComponent);var Styles=StyleSheet.create({container:{width:150,height:30,flexDirection:'row',justifyContent:'flex-start',alignItems:'center'},star:{width:30,height:30,justifyContent:'center',alignItems:'center'},starImg:{width:'80%',height:'80%'}});Star.propTypes={score:PropTypes.number.isRequired,totalScore:PropTypes.number,style:PropTypes.any};Star.defaultProps={totalScore:5,style:{width:150,height:30}};export default Star;","map":{"version":3,"sources":["/home/aunto/Projects/WCL/wcl-app/node_modules/react-native-star-view/lib/Star.js"],"names":["React","PropTypes","YellowStar","GrayStar","HalfStar","STAR_COUNT","Star","props","score","totalScore","style","scale","yellowStarCount","dif","halfStarCount","grayStarCount","flattenStyle","StyleSheet","flatten","starWidth","width","starHeight","height","source","Styles","star","starImg","container","Array","fill","map","e","i","toString","PureComponent","create","flexDirection","justifyContent","alignItems","propTypes","number","isRequired","any","defaultProps"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n  View,\n  Image,\n  StyleSheet,\n} from 'react-native';\nimport PropTypes from 'prop-types';\nimport YellowStar from './star-yellow.png';\nimport GrayStar from './star-gray.png';\nimport HalfStar from './star-half.png';\nconst STAR_COUNT = 5;\n\n// default total score is 5\n// if score >= 3.3 and score < 3.8 contain half star\n// default length is 150 height is 30\nclass Star extends React.PureComponent {\n  render() {\n    const { score, totalScore, style } = this.props;\n    const scale = totalScore / STAR_COUNT;\n    let yellowStarCount = ~~(score / scale);\n    const dif = (score/scale) - yellowStarCount\n    let halfStarCount = 0;\n    let grayStarCount = STAR_COUNT - yellowStarCount;\n    if (0 <= dif && dif < 0.3) {\n      // console.log('0 <= dif && 0 < 0.3');\n    } else if (0.3 <= dif && dif < 0.8) {\n      halfStarCount = 1;\n      grayStarCount = grayStarCount - 1;\n    } else if (dif >= 0.8) {\n      yellowStarCount = yellowStarCount + 1;\n      grayStarCount = grayStarCount - 1;\n    }\n    let flattenStyle = {};\n    if (typeof style === 'number') {\n      flattenStyle = StyleSheet.flatten([style]);\n    } else {\n      flattenStyle = style;\n    }\n    const starWidth = flattenStyle.width/STAR_COUNT || 30;\n    const starHeight = flattenStyle.height || 30;\n    const Star = ({source}) => (\n      <View style={[Styles.star, { width: starWidth, height: starHeight }]}>\n        <Image\n          source={source}\n          style={[Styles.starImg, {\n            width: starWidth*0.8, height: starHeight*0.8\n          }]} />\n      </View>\n    );\n    return (\n      <View style={[Styles.container, style]}>\n        {Array(yellowStarCount).fill().map((e, i) => <Star key={i.toString()} source={YellowStar} />)}\n        {Array(halfStarCount).fill().map((e, i) => <Star key={i.toString()} source={HalfStar} />)}\n        {Array(grayStarCount).fill().map((e, i) => <Star key={i.toString()} source={GrayStar} />)}\n      </View>\n    );\n  }\n}\n\nconst Styles = StyleSheet.create({\n  container: {\n    width: 150,\n    height: 30,\n    flexDirection: 'row',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n  },\n  star: {\n    width: 30,\n    height: 30,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  starImg: {\n    width: '80%',\n    height: '80%',\n  },\n});\n\nStar.propTypes = {\n  score: PropTypes.number.isRequired,\n  totalScore: PropTypes.number,\n  style: PropTypes.any,\n};\n\nStar.defaultProps = {\n  totalScore: 5,\n  style: {\n    width: 150,\n    height: 30,\n  },\n};\n\nexport default Star;\n"]},"metadata":{},"sourceType":"module"}